var App=function(e){function t(n){if(a[n])return a[n].exports;var s=a[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var s=a(23),r=n(s),l=a(1),i=(l.Component,a(6),a(6).render),c=a(2).Router,o=a(2).Route,m=(a(2).IndexRoute,a(2).Link,a(2).hashHistory),d=a(2).IndexRedirect,h=a(29),u=a(19),p=a(20),f=a(25),E=a(26),v=a(27),g=a(17),b=a(18),N=a(28),k=a(13),y=a(14),w=a(7),C=a(22),x=a(11),S=a(10),D=a(9),I=a(12),j=a(8),T=a(21),$=a(24);i(l.createElement(c,{history:m},l.createElement(o,{path:"/",component:r["default"]}),l.createElement(o,{path:"/sign",component:h},l.createElement(d,{to:"/sign/in"}),l.createElement(o,{path:"in",component:u}),l.createElement(o,{path:"up",component:p})),l.createElement(o,{path:"/orgsign",component:v},l.createElement(d,{to:"/orgsign/in"}),l.createElement(o,{path:"in",component:g}),l.createElement(o,{path:"up",component:b})),l.createElement(o,{path:"/person",component:N},l.createElement(o,{path:"info",component:k}),l.createElement(o,{path:"info/change",component:y})),l.createElement(o,{path:"/back",component:w},l.createElement(d,{to:"manage"}),l.createElement(o,{path:"manage"},l.createElement(d,{to:"form"}),l.createElement(o,{path:"form",component:I}),l.createElement(o,{path:"add",component:j})),l.createElement(o,{path:"dispatcher"},l.createElement(d,{to:"time"}),l.createElement(o,{path:"time",component:x}),l.createElement(o,{path:"status",component:S}),l.createElement(o,{path:"message",component:D})),l.createElement(o,{path:"transhbin"})),l.createElement(o,{path:"/form/:id",component:T}),l.createElement(o,{path:"/forms/output/:eventID/:wish",component:C}),l.createElement(o,{path:"/mobile/form/:id",component:$}),l.createElement(o,{path:"/mobile/signin",component:f}),l.createElement(o,{path:"/mobile/signup",component:E})),document.getElementById("content"))},function(e,t){e.exports=React},function(e,t){e.exports=ReactRouter},function(e,t,a){"use strict";var n=a(1);e.exports=n.createClass({displayName:"exports",getInitialState:function(){return{selectedItem:this.props["default"]}},shouldComponentUpdate:function(e,t){return(e.data!=this.props.data||e.resetWhenChanged!=this.props.resetWhenChanged||t.selectedItem!=this.state.selectedItem)&&(t.selectedItem==this.state.selectedItem&&this.setState({selectedItem:this.props["default"]}),!0)},handleClick:function(){var e=this.props.name,t=$(this.refs[e]).children(".dp-body"),a=$(this.refs[e]).children(".dp-title").children("i"),n=$(t).children("label");"matrix(1.4, 0, 0, 1.4, 0, 0)"==a.css("transform")?(n&&t.css("height",n.outerHeight()*n.length+"px"),a.css("transform","rotate(180deg) scale(1.4)")):(n&&t.css("height","0px"),a.css("transform","rotate(0deg) scale(1.4)"))},handleChecked:function(e,t){this.setState({selectedItem:t.currentTarget.value}),this.props.handleChecked(t.currentTarget.value,e)},render:function(){var e=this;return n.createElement("div",{className:"dropdown",ref:this.props.name,onClick:this.handleClick},n.createElement("div",{className:"dp-title"},this.state.selectedItem,n.createElement("i",{className:"fa fa-caret-down"})),n.createElement("div",{className:"dp-body"},this.props.data.map(function(t,a){return n.createElement("label",{key:a},n.createElement("input",{type:"radio",name:e.props.name,value:t,checked:e.state.selectedItem===t,onChange:e.handleChecked.bind(null,a)}),t)})))}})},function(e,t,a){"use strict";var n=a(1);n.Component;e.exports=n.createClass({displayName:"exports",getInitialState:function(){return{name:""}},logout:function(){$.ajax({url:"/user/logout",contentType:"application/json",type:"GET",success:function(e){window.location.href="/#/sign/in"}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},componentDidMount:function(){$.ajax({url:"/user/session",contentType:"application/json",type:"GET",success:function(e){var t=void 0;if(e.body.user)t=e.body.user.baseinfo&&e.body.user.baseinfo.name?e.body.user.baseinfo.name:e.body.user.username;else{t="";var a=["#/person/info","#/person/info"],n=window.location.hash,s=n.substr(0,n.indexOf("?"));$.inArray(s,a)>-1&&(window.location.href="#/sign/in");var r=["#/mobile/form"],s=n.substr(0,n.lastIndexOf("/"));console.log(s),$.inArray(s,r)>-1||$("#invite").show()}this.setState({name:t})}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败"),console.log(data.msg)}.bind(this)})},render:function(){var e={"float":"left"},t={"float":"left",marginTop:"0.73rem"},a={marginLeft:"2.92rem",marginRight:"2.92rem",verticalAlign:"middle"},s={fontFamily:"BenderSolid",fontSize:"2.68rem",color:"#ffffff",background:"#f57a6c",minWidth:"15.695rem",minHeight:"4.38rem",lineHeight:"4.38rem",display:"inline-block",textAlign:"center"},r={"float":"right",lineHeight:"4.38rem"},l={marginLeft:"2.92rem",marginRight:"2.92rem"},i=n.createElement("div",{id:"sign-func"},n.createElement("a",{onClick:function(){window.location.href=document.body.clientWidth>800?"#/sign/up":"#/mobile/signup"}},"注册"),n.createElement("a",{onClick:function(){window.location.href=document.body.clientWidth>800?"#/sign/in":"#/mobile/signin"}},"登录")),c=null;return""!=this.state.name&&(i=n.createElement("div",{style:r,className:"pc"},n.createElement("small",{className:"dank-small",style:l},"Hi,",this.state.name),n.createElement("a",{className:"dank-a",href:"/#/person/info",style:l},"个人资料"),"|",n.createElement("a",{className:"dank-a",href:"/#/orgsign/in",style:l},"社团登陆"),"|",n.createElement("a",{className:"dank-a",onClick:this.logout,style:l},"注销")),c=n.createElement("a",{href:"/#/person/info"},n.createElement("i",{className:"mobile fa fa-user"}))),n.createElement("div",{className:"dank-header"},n.createElement("div",{style:e},n.createElement("big",{style:s,onClick:function(){window.location.href="/"}},"WELCOME")),n.createElement("div",{style:t,className:"pc"},n.createElement("a",{className:"dank-button-header",href:"/",style:a},"首页")),i,c,""!=this.state.name?null:n.createElement("div",{className:"dank-invite-login-frame",id:"invite"},n.createElement("div",{className:"dank-invite-login-text"},"嘿小子，为啥不登录啊",n.createElement("br",null),"登陆后可以自动填写基本资料",n.createElement("br",null),"登陆后可以从教务网同步个人资料",n.createElement("br",null),"提交一次报名表自动注册账号哦",n.createElement("br",null),"xu~~~账号是手机号 密码是学号",n.createElement("br",null)),n.createElement("div",{className:"dank-invite-login-button-group"},n.createElement("div",{className:"dank-invite-login-button",onClick:function(){window.location.href=document.body.clientWidth>800?"#/sign/in":"#/mobile/signin"}},"登陆"),n.createElement("div",{className:"dank-invite-login-button",onClick:function(){window.location.href=document.body.clientWidth>800?"#/sign/up":"#/mobile/signup"}},"注册"),n.createElement("div",{className:"dank-invite-login-button",onClick:function(){$("#invite").fadeOut()}},"拒绝"))))}})},function(e,t,a){"use strict";var n=a(1);n.Component,a(2).Link;e.exports=n.createClass({displayName:"exports",render:function(){var e={"float":"left"},t={marginLeft:"2.92rem",marginRight:"2.92rem",verticalAlign:"middle"},a={"float":"left",marginTop:"0.803rem"},s={fontFamily:"BenderSolid",fontSize:"2.628rem",color:"#ffffff",background:"#f57a6c",minWidth:"15.695rem",height:"4.38rem",lineHeight:"4.38rem",display:"inline-block",textAlign:"center"},r={"float":"right",lineHeight:"4.38rem"},l={marginLeft:"2.92rem",marginRight:"2.92rem"};return n.createElement("div",{className:"dank-header"},n.createElement("div",{style:e},n.createElement("big",{style:s,onClick:function(){window.location.href="/"}},"WELCOME")),n.createElement("div",{style:a,className:"pc"},n.createElement("a",{className:"dank-button-header",href:"/",style:t},"首页")),n.createElement("div",{style:r,className:"pc"},n.createElement("a",{href:"#/orgsign/in",className:"dank-a",style:l},"社团入口"),n.createElement("a",{href:"#/sign/in",className:"dank-a",style:l},"个人入口")))}})},function(e,t){e.exports=ReactDOM},function(e,t,a){"use strict";var n=a(1),s=a(2).Link,r=a(16);e.exports=n.createClass({displayName:"exports",render:function(){return n.createElement("div",null,n.createElement(r,null),n.createElement("div",null,n.createElement(l,null),n.createElement("div",{className:"dank-slider-right"},this.props.children)))}});var l=n.createClass({displayName:"Slider",render:function(){return n.createElement("div",{className:"dank-slider-org"},n.createElement("div",null,n.createElement(s,{to:"/back/manage",activeClassName:"dank-slider-active"},n.createElement("i",{className:"fa fa-lg fa-fw fa-file-text-o","aria-hidden":"true"}),n.createElement("b",null,"报名表管理"))),n.createElement("div",null,n.createElement(s,{to:"/back/dispatcher",activeClassName:"dank-slider-active"},n.createElement("i",{className:"fa fa-lg fa-fw fa-calendar","aria-hidden":"true"}),n.createElement("b",null,"面试调度"),n.createElement("p",null," >")),n.createElement("ul",{id:"dispatcher-menu"},n.createElement(s,{to:"/back/dispatcher/time",activeClassName:"active"},n.createElement("li",null,n.createElement("i",{className:"fa fa-angle-right"}),"面试场次安排")),n.createElement(s,{to:"/back/dispatcher/status",activeClassName:"active"},n.createElement("li",null,n.createElement("i",{className:"fa fa-angle-right"}),"面试状态查看/管理")),n.createElement(s,{to:"/back/dispatcher/message",activeClassName:"active"},n.createElement("li",null,n.createElement("i",{className:"fa fa-angle-right"}),"消息发送")))))}})},function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=a(1);s.Component;e.exports=s.createClass({displayName:"exports",render:function(){return s.createElement(r,null)}});var r=s.createClass({displayName:"Content",getInitialState:function(){return{page:1,pagesState:[!0,!0,!0,!0],pagesNumber:[1,2,3,4],totalPage:4,name:"请输入纳新事项名称",skills:{"delete":!1,title:"技能",max:"",option:["ppt","视频","主持","摄影","ps"],free:!0},introduction:{"delete":!1,title:"个人履历（经历，荣誉）",require:!0},wish:{"delete":!1,title:"请选择您的志愿",max:2,option:["产品","设计","前端","后端","运营","推广"],free:!1},others:[],remark:"无"}},dataRecall:function(e,t,a){this.setState(n({},e,t),a)},nextPage:function m(){var m=this.state.page%this.state.totalPage+1;this.setState({page:m})},lastPage:function d(){var d=(this.state.totalPage+this.state.page-2)%this.state.totalPage+1;this.setState({page:d})},submit:function(){var e=function(){$.ajax({url:"event/create",contentType:"application/json",type:"POST",data:JSON.stringify({event:{name:this.state.name,formschema:{skills:this.state.skills,introduction:this.state.introduction,wish:this.state.wish,others:this.state.others}}}),success:function(e){switch(console.log(e),e.code){case 0:window.location.href="/#/back";break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})}.bind(this);this.refs.baseinfo&&e(),this.refs.person&&this.refs.person.componentForceUnmount(e),this.refs.wish&&this.refs.wish.componentForceUnmount(e),this.refs.others&&this.refs.others.componentForceUnmount(e)},pageDelete:function(e){var t=this.state.pagesState,a=this.state.pagesNumber,n=this.state.totalPage;t[e-1]=!1;for(var s=e;s<4;s++)a[s]--;n--,this.setState({pagesState:t,pagesNumber:a,totalPage:n})},componentDidMount:function(){this.refs.name.select()},render:function(){var e={top:"4.38rem",bottom:"0",left:"15.695rem",right:"21.316rem",position:"fixed",overflow:"auto",background:"#f77968"},t={marginTop:"8.03rem"},a={width:"73rem"},n={textAlign:"center",fontSize:"2.19rem",color:"#ffffff",marginTop:"2.044rem",marginBottom:"2.044rem"},r={"float":"right",marginTop:"11.68rem"},m={position:"fixed",right:"0",bottom:"0",top:"4.38rem",width:"21.316rem"};return s.createElement("div",null,s.createElement("div",{style:e},s.createElement("div",{className:"container-fluid"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},s.createElement("big",{style:n,className:"center-block"},s.createElement("input",{type:"text",value:this.state.name,ref:"name",onChange:function(){this.setState({name:this.refs.name.value})}.bind(this),className:"dank-form-title-input"})))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},s.createElement("div",{className:"center-block",style:a},s.createElement("div",{className:"dank-time-line"},s.createElement("big",{className:1==this.state.page?"dank-time-node-active":"dank-time-node",onClick:function(){this.setState({page:this.state.pagesNumber[0]})}.bind(this)},this.state.pagesNumber[0]),this.state.pagesState[1]?s.createElement("big",{className:this.state.page==this.state.pagesNumber[1]?"dank-time-node-active":"dank-time-node",style:t,onClick:function(){this.setState({page:this.state.pagesNumber[1]})}.bind(this)},this.state.pagesNumber[1]):null,this.state.pagesState[2]?s.createElement("big",{className:this.state.page==this.state.pagesNumber[2]?"dank-time-node-active":"dank-time-node",style:t,onClick:function(){this.setState({page:this.state.pagesNumber[2]})}.bind(this)},this.state.pagesNumber[2]):null,this.state.pagesState[3]?s.createElement("big",{className:this.state.page==this.state.pagesNumber[3]?"dank-time-node-active":"dank-time-node",style:t,onClick:function(){this.setState({page:this.state.pagesNumber[3]})}.bind(this)},this.state.pagesNumber[3]):null),this.state.page==this.state.pagesNumber[0]&&this.state.pagesState[0]?s.createElement(l,{ref:"baseinfo",data:this.state.baseinfo,dataRecall:this.dataRecall,pageDelete:this.pageDelete}):null,this.state.page==this.state.pagesNumber[1]&&this.state.pagesState[1]?s.createElement(i,{ref:"person",introduction:this.state.introduction,skills:this.state.skills,dataRecall:this.dataRecall,pageDelete:this.pageDelete}):null,this.state.page==this.state.pagesNumber[2]&&this.state.pagesState[2]?s.createElement(c,{ref:"wish",wish:this.state.wish,dataRecall:this.dataRecall,pageDelete:this.pageDelete}):null,this.state.page==this.state.pagesNumber[3]&&this.state.pagesState[3]?s.createElement(o,{ref:"others",others:this.state.others,dataRecall:this.dataRecall,pageDelete:this.pageDelete}):null,s.createElement("div",{style:r},s.createElement("a",{className:"dank-button-2",onClick:this.lastPage},"上一页"),s.createElement("a",{className:"dank-button-2",onClick:this.nextPage},"下一页"),s.createElement("a",{className:"dank-button-2",onClick:this.submit},"提交"))))))),this.state.page==this.state.pagesNumber[3]&&this.state.pagesState[3]?s.createElement("div",{style:m},s.createElement("div",{className:"d14"},s.createElement("div",{className:"d15"},s.createElement("h1",{className:"h1b"},s.createElement("b",null,"报名表组件"))),s.createElement("div",{className:"dank-library-component",onClick:function(){this.refs.others.componentAdd("single-text")}.bind(this)},"单行文本框"),s.createElement("div",{className:"dank-library-component",onClick:function(){this.refs.others.componentAdd("multi-text")}.bind(this)},"多行文本框"),s.createElement("div",{className:"dank-library-component",onClick:function(){this.refs.others.componentAdd("single-choose")}.bind(this)},"单选组件"),s.createElement("div",{className:"dank-library-component",onClick:function(){this.refs.others.componentAdd("multi-choose")}.bind(this)},"多选组件"),s.createElement("div",{className:"dank-library-component",onClick:function(){this.refs.others.componentAdd("file")}.bind(this)},"上传文件"))):s.createElement("div",{style:m},s.createElement("div",{className:"d14"},s.createElement("div",{className:"d15"},s.createElement("h1",{className:"h1b"},s.createElement("b",null,"报名表组件")),s.createElement("h2",{className:"h2b"},s.createElement("b",null,"仅在最后一页可用"))),s.createElement("div",{className:"dank-library-component-forbidden"},"单行文本框"),s.createElement("div",{className:"dank-library-component-forbidden"},"多行文本框"),s.createElement("div",{className:"dank-library-component-forbidden"},"单选组件"),s.createElement("div",{className:"dank-library-component-forbidden"},"多选组件"),s.createElement("div",{className:"dank-library-component-forbidden"},"上传文件"))))}}),l=s.createClass({displayName:"Baseinfo",componentDidMount:function(){window.iCheck()},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"55.334rem",height:"45.114rem",marginLeft:"2.19rem",marginBottom:"2.19rem"};return s.createElement("div",{style:e},s.createElement("h1",{className:"h1a"},s.createElement("b",null,"个人信息")),s.createElement("div",{className:"d8"},s.createElement("b",null,s.createElement("table",{className:"center-block dank-form-table"},s.createElement("tbody",null,s.createElement("tr",{className:""},s.createElement("td",{className:"form-group"},"姓　　名"),s.createElement("td",null,s.createElement("input",{name:"name",className:"dank-form-input",type:"text"})),s.createElement("td",null,"性　　别"),s.createElement("td",null,s.createElement("label",{className:"dank-checkbox-inline"},s.createElement("input",{type:"radio",name:"sex",value:"男"}),s.createElement("b",null," 男")),s.createElement("label",{className:"dank-checkbox-inline"},s.createElement("input",{type:"radio",name:"sex",value:"女"}),s.createElement("b",null," 女")))),s.createElement("tr",{className:""},s.createElement("td",null,"籍　　贯"),s.createElement("td",null,s.createElement("input",{name:"origin",className:"dank-form-input",type:"text"})),s.createElement("td",null,"民　　族"),s.createElement("td",null,s.createElement("input",{name:"nation",className:"dank-form-input",type:"text"}))),s.createElement("tr",{className:""},s.createElement("td",null,"学　　号"),s.createElement("td",null,s.createElement("input",{name:"schoolID",className:"dank-form-input",type:"text"})),s.createElement("td",null,"政治面貌"),s.createElement("td",null,s.createElement("input",{name:"politicalStatus",className:"dank-form-input",type:"text"}))),s.createElement("tr",{className:""},s.createElement("td",null,"手机长号"),s.createElement("td",null,s.createElement("input",{name:"telnumber",className:"dank-form-input",type:"text"})),s.createElement("td",null,"手机短号"),s.createElement("td",null,s.createElement("input",{name:"telshort",className:"dank-form-input",type:"text"}))),s.createElement("tr",{className:""},s.createElement("td",null,"邮　　箱"),s.createElement("td",null,s.createElement("input",{name:"email",className:"dank-form-input",type:"text"})),s.createElement("td",null,"ＱＱ号码"),s.createElement("td",null,s.createElement("input",{name:"qq",className:"dank-form-input",type:"text"}))),s.createElement("tr",{className:""},s.createElement("td",null,"专　　业"),s.createElement("td",null,s.createElement("input",{name:"major",className:"dank-form-input",type:"text"})),s.createElement("td",null,"出生日期"),s.createElement("td",null,s.createElement("input",{name:"birth",className:"dank-form-input",type:"text"}))),s.createElement("tr",{className:""},s.createElement("td",null,"寝室地址"),s.createElement("td",null,s.createElement("input",{name:"address",className:"dank-form-input",type:"text"})),s.createElement("td",null)))))),s.createElement("div",{className:"d9"},s.createElement("div",{className:"d10"},s.createElement("img",{src:"static/img/photo.png",className:"i6"}),s.createElement("a",{className:"a21"},s.createElement("b",null,"上传照片")))))}}),i=s.createClass({displayName:"Person",getInitialState:function(){return{skills:this.props.skills,introduction:this.props.introduction,skillsEdit:!1,introductionEdit:!1}},componentDidMount:function(){window.iCheck()},componentDidUpdate:function(){window.iCheck()},componentWillUnmount:function(){var e=this.state.skills,t=this.state.introduction;this.props.dataRecall("skills",e),this.props.dataRecall("introduction",t),e["delete"]&&t["delete"]&&this.props.pageDelete(2)},componentForceUnmount:function(e){var t=this.state.skills,a=this.state.introduction;this.props.dataRecall("skills",t,function(){this.props.dataRecall("introduction",a,e)}.bind(this))},decoder:function(e){return e.join("#")},encoder:function(e){return e.split("#")},save:function(e){switch(e){case"skill":var t=this.refs.skillsTitle.value,a=this.refs.skillsMax.value,n=!!this.refs.skillsFree.checked,s=this.encoder(this.refs.skillsOption.value);this.setState({skills:{title:t,max:a,free:n,option:s,require:this.state.skills.require},skillsEdit:!1});break;case"introduction":var t=this.refs.introductionTitle.value;this.setState({introduction:{title:t,"delete":this.state.introduction["delete"]},introductionEdit:!1})}},deleteComponent:function(e){switch(e){case"skills":var t=this.state.skills;t["delete"]=!0,this.setState({skills:t});break;case"introduction":var a=this.state.introduction;a["delete"]=!0,this.setState({introduction:a})}},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"55.334rem",minHeight:"45.114rem",marginLeft:"2.19rem",marginBottom:"2.19rem"},t=this.state.skills.option.map(function(e){return s.createElement("div",{className:"dank-checkbox-inOneLine",key:e},s.createElement("input",{type:"checkbox",value:e}),s.createElement("label",null," ",e," "))}.bind(this));return s.createElement("div",{style:e},s.createElement("h1",{className:"h1a"},s.createElement("b",null,"个人介绍")),this.state.skills["delete"]?null:this.state.skillsEdit?s.createElement("div",{className:"d24"},s.createElement("div",{className:"d25 dank-schema-component"},s.createElement("div",null,s.createElement("div",{className:"dank-form-group-inline dank-schema-form-group-inline"},s.createElement("h1",{className:"dank-schema-label"},"标题"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"text",ref:"skillsTitle",defaultValue:this.state.skills.title}))),s.createElement("div",{className:"dank-form-group-inline dank-schema-form-group-inline dank-schema-form-group-short"},s.createElement("h1",{className:"dank-schema-label"},"选择数量限制"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"number",ref:"skillsMax",defaultValue:this.state.skills.max}))),s.createElement("div",{className:"dank-form-group-inline dank-schema-form-group-inline dank-schema-form-group-short"},s.createElement("h1",{className:"dank-schema-label"},"是否允许自填"),s.createElement("div",null,this.state.skills.free?s.createElement("input",{type:"checkbox",ref:"skillsFree",defaultChecked:!0}):s.createElement("input",{type:"checkbox",ref:"skillsFree"}),s.createElement("label",null,"允许自填")))),s.createElement("div",null,s.createElement("h1",{className:"dank-schema-label"},"可选项（选项间以#分隔）"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"text",ref:"skillsOption",defaultValue:this.decoder(this.state.skills.option)}))),s.createElement("div",{className:"dank-schema-option-group"},s.createElement("a",{className:"dank-schema-option",onClick:function(){this.deleteComponent("skills")}.bind(this)},"删除"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.save("skill")}.bind(this)},"完成")))):s.createElement("div",{className:"d24 ",onClick:function(){this.setState({skillsEdit:!0})}.bind(this)},s.createElement("div",{className:"text-left d25 dank-schema-component-hover"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,this.state.skills.title+(this.state.skills.max?"　最多选择"+this.state.skills.max+"项":""))),t,this.state.skills.free?s.createElement("div",{className:"dank-form-group-inline"},s.createElement("label",{className:"dank-label dank-select-label"},"其他"),s.createElement("input",{type:"text",className:"dank-form-input dank-select-input"})):null)),this.state.introduction["delete"]?null:this.state.introductionEdit?s.createElement("div",{className:"d24"},s.createElement("div",{className:"d25 dank-schema-component"},s.createElement("div",null,s.createElement("h1",{className:"dank-schema-label"},"标题"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",ref:"introductionTitle",type:"text",defaultValue:this.state.introduction.title}))),s.createElement("div",{className:"dank-schema-option-group"},s.createElement("a",{className:"dank-schema-option",onClick:function(){this.deleteComponent("introduction")}.bind(this)},"删除"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.save("introduction")}.bind(this)},"完成")))):s.createElement("div",{className:"d24",onClick:function(){this.setState({introductionEdit:!0})}.bind(this)},s.createElement("div",{className:"text-left d25 dank-schema-component-hover"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,this.state.introduction.title)),s.createElement("div",null,s.createElement("b",null,s.createElement("textarea",{name:"introduction.content",className:"text-left tt1"}))))))}}),c=s.createClass({displayName:"Wish",getInitialState:function(){return{wish:this.props.wish,wishEdit:!1}},componentDidMount:function(){window.iCheck()},componentDidUpdate:function(){window.iCheck()},componentWillUnmount:function(){var e=this.state.wish;this.props.dataRecall("wish",e),e["delete"]&&this.props.pageDelete(3)},componentForceUnmount:function(e){var t=this.state.wish;this.props.dataRecall("wish",t,e)},decoder:function(e){return e.join("#")},encoder:function(e){return e.split("#")},deleteComponent:function(e){switch(e){case"wish":var t=this.state.wish;t["delete"]=!0,this.setState({skills:t})}},save:function(e){switch(e){case"wish":var t=this.refs.wishTitle.value,a=this.refs.wishMax.value,n=!!this.refs.wishFree.checked,s=this.encoder(this.refs.wishOption.value);this.setState({wish:{title:t,max:a,free:n,option:s,require:this.state.wish.require},wishEdit:!1})}},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"55.334rem",minHeight:"45.114rem",marginLeft:"2.19rem",marginBottom:"2.19rem"},t=this.state.wish.option.map(function(e){return s.createElement("div",{className:"dank-checkbox-inOneLine",key:e},s.createElement("input",{type:"checkbox",value:e}),s.createElement("label",null," ",e," "))}.bind(this));return s.createElement("div",{style:e},s.createElement("h1",{className:"h1a"},s.createElement("b",null,"志愿选择")),this.state.wish["delete"]?null:this.state.wishEdit?s.createElement("div",{className:"d24"},s.createElement("div",{className:"d25 dank-schema-component"},s.createElement("div",null,s.createElement("div",{className:"dank-form-group-inline dank-schema-form-group-inline"},s.createElement("h1",{className:"dank-schema-label"},"标题"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"text",ref:"wishTitle",defaultValue:this.state.wish.title}))),s.createElement("div",{className:"dank-form-group-inline dank-schema-form-group-inline dank-schema-form-group-short"},s.createElement("h1",{className:"dank-schema-label"},"选择数量限制"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"number",ref:"wishMax",defaultValue:this.state.wish.max}))),s.createElement("div",{className:"dank-form-group-inline dank-schema-form-group-inline dank-schema-form-group-short"},s.createElement("h1",{className:"dank-schema-label"},"是否允许自填"),s.createElement("div",null,this.state.wish.free?s.createElement("input",{type:"checkbox",ref:"wishFree",defaultChecked:!0}):s.createElement("input",{type:"checkbox",ref:"wishFree"}),s.createElement("label",null,"允许自填")))),s.createElement("div",null,s.createElement("h1",{className:"dank-schema-label"},"可选项（选项间以#分隔）"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"text",ref:"wishOption",defaultValue:this.decoder(this.state.wish.option)}))),s.createElement("div",{className:"dank-schema-option-group"},s.createElement("a",{className:"dank-schema-option",onClick:function(){this.deleteComponent("wish")}.bind(this)},"删除"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.save("wish")}.bind(this)},"完成")))):s.createElement("div",{className:"d24",onClick:function(){this.setState({wishEdit:!0})}.bind(this)},s.createElement("div",{className:"text-left d25 dank-schema-component-hover"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,this.state.wish.title+(this.state.wish.max?"　最多选择"+this.state.wish.max+"项":""))),t,this.state.wish.free?s.createElement("div",{className:"dank-form-group-inline"},s.createElement("label",{className:"dank-label dank-select-label"},"其他"),s.createElement("input",{type:"text",className:"dank-form-input dank-select-input"})):null)),this.state.wish["delete"]?null:s.createElement("div",{className:"d24"},s.createElement("div",{className:"text-left d25"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,"希望进入第1志愿 ",this.state.wish.option[0]," 的原因是")),s.createElement("div",null,s.createElement("b",null,s.createElement("textarea",{value:"此组件会自动根据面试者的选择生成",className:"text-left tt1",readOnly:!0}))))))}}),o=s.createClass({displayName:"Others",getInitialState:function(){for(var e=[],t=0;t<this.props.others.length;t++)e.push(!1);return{others:this.props.others,othersEdit:e}},componentDidMount:function(){window.iCheck()},componentDidUpdate:function(){window.iCheck()},componentWillUnmount:function(){this.props.dataRecall("others",this.state.others)},componentForceUnmount:function(e){this.props.dataRecall("others",this.state.others,e)},decoder:function(e){return e.join("#")},encoder:function(e){return e.split("#")},componentAdd:function(e){var t,a=this.state.others,n=this.state.othersEdit;switch(e){case"single-text":t={type:"single-text",title:"请在此处输入标题",required:!1};break;case"multi-text":t={type:"multi-text",title:"请在此处输入标题",required:!1};break;case"multi-choose":t={type:"multi-choose",title:"请在此处输入标题",max:null,option:["选项一","选项二","选项三"],free:!0};break;case"single-choose":t={type:"single-choose",title:"请在此处输入标题",option:["选项一","选项二","选项三"],free:!1};break;case"file":t={type:"file",title:"请在此处输入标题"};break;default:t={}}t&&(a.push(t),n.push("true"),this.setState({others:a,othersEdit:n}))},dataUpdate:function(e,t){var a=this.state.others;switch(e){case"single-text":var n=$("#othersTitle"+t).val();a[t].title=n;break;case"multi-text":var n=$("#othersTitle"+t).val();a[t].title=n;break;case"multi-choose":var n=$("#othersTitle"+t).val(),s=$("#othersMax"+t).val(),r=!!$("#othersFree"+t).is(":checked"),l=this.encoder($("#othersOption"+t).val());a[t].title=n,a[t].max=s,a[t].free=r,a[t].option=l;break;case"single-choose":var n=$("#othersTitle"+t).val(),l=this.encoder($("#othersOption"+t).val());a[t].title=n,a[t].option=l;break;case"file":var n=$("#othersTitle"+t).val();a[t].title=n}this.setState({others:a})},save:function(e,t){this.dataUpdate(e,t);var a=this.state.othersEdit;a[t]=!1,this.setState({othersEdit:a})},deleteComponent:function(e){var t=this.state.others,a=this.state.othersEdit;t.splice(e,1),a.splice(e,1),this.setState({others:t,othersEdit:a})},editState:function(e){var t=this.state.othersEdit;t[e]=!0,this.setState({othersEdit:t})},moveBefore:function(e,t){this.dataUpdate(e,t);var a=this.state.others,n=this.state.othersEdit,s=a.length,r=(t-1+s)%s,l=a[t];a[t]=a[r],a[r]=l;var i=n[t];n[t]=n[r],n[r]=i,this.setState({others:a,othersEdit:n})},moveBack:function(e,t){this.dataUpdate(e,t);var a=this.state.others,n=this.state.othersEdit,s=a.length,r=(t+1+s)%s,l=a[t];a[t]=a[r],a[r]=l;var i=n[t];n[t]=n[r],n[r]=i,this.setState({others:a,othersEdit:n})},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"55.334rem",minHeight:"45.114rem",marginLeft:"2.19rem",marginBottom:"2.19rem"},t=this.state.others.map(function(e,t){switch(e.type){case"single-text":return s.createElement("div",{key:t},this.state.othersEdit[t]?s.createElement("div",{className:"d24"},s.createElement("div",{className:"d25 dank-schema-component"},s.createElement("div",null,s.createElement("h1",{className:"dank-schema-label"},"标题"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",id:"othersTitle"+t,type:"text",defaultValue:e.title}))),s.createElement("div",{
className:"dank-schema-option-group"},s.createElement("a",{className:"dank-schema-option",onClick:function(){this.moveBefore("single-text",t)}.bind(this)},"上移"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.moveBack("single-text",t)}.bind(this)},"下移"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.deleteComponent(t)}.bind(this)},"删除"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.save("single-text",t)}.bind(this)},"完成")))):s.createElement("div",{className:"d24",onClick:function(){this.editState(t)}.bind(this)},s.createElement("div",{className:"text-left d25 dank-schema-component-hover"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,e.title)),s.createElement("div",null,s.createElement("b",null,s.createElement("input",{type:"text",className:"dank-form-single-text"}))))));case"multi-text":return s.createElement("div",{key:t},this.state.othersEdit[t]?s.createElement("div",{className:"d24"},s.createElement("div",{className:"d25 dank-schema-component"},s.createElement("div",null,s.createElement("h1",{className:"dank-schema-label"},"标题"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",id:"othersTitle"+t,type:"text",defaultValue:e.title}))),s.createElement("div",{className:"dank-schema-option-group"},s.createElement("a",{className:"dank-schema-option",onClick:function(){this.moveBefore("multi-text",t)}.bind(this)},"上移"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.moveBack("multi-text",t)}.bind(this)},"下移"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.deleteComponent(t)}.bind(this)},"删除"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.save("multi-text",t)}.bind(this)},"完成")))):s.createElement("div",{className:"d24",onClick:function(){this.editState(t)}.bind(this)},s.createElement("div",{className:"text-left d25 dank-schema-component-hover"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,e.title)),s.createElement("div",null,s.createElement("b",null,s.createElement("textarea",{name:"introduction.content",className:"text-left tt1"}))))));case"multi-choose":return s.createElement("div",{key:t},this.state.othersEdit[t]?s.createElement("div",{className:"d24"},s.createElement("div",{className:"d25 dank-schema-component"},s.createElement("div",null,s.createElement("div",{className:"dank-form-group-inline dank-schema-form-group-inline"},s.createElement("h1",{className:"dank-schema-label"},"标题"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"text",id:"othersTitle"+t,defaultValue:e.title}))),s.createElement("div",{className:"dank-form-group-inline dank-schema-form-group-inline dank-schema-form-group-short"},s.createElement("h1",{className:"dank-schema-label"},"选择数量限制"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"number",id:"othersMax"+t,defaultValue:e.max}))),s.createElement("div",{className:"dank-form-group-inline dank-schema-form-group-inline dank-schema-form-group-short"},s.createElement("h1",{className:"dank-schema-label"},"是否允许自填"),s.createElement("div",null,e.free?s.createElement("input",{type:"checkbox",id:"othersFree"+t,defaultChecked:!0}):s.createElement("input",{type:"checkbox",id:"othersFree"+t}),s.createElement("label",null,"允许自填")))),s.createElement("div",null,s.createElement("h1",{className:"dank-schema-label"},"可选项（选项间以#分隔）"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"text",id:"othersOption"+t,defaultValue:this.decoder(e.option)}))),s.createElement("div",{className:"dank-schema-option-group"},s.createElement("a",{className:"dank-schema-option",onClick:function(){this.moveBefore("multi-choose",t)}.bind(this)},"上移"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.moveBack("multi-choose",t)}.bind(this)},"下移"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.deleteComponent(t)}.bind(this)},"删除"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.save("multi-choose",t)}.bind(this)},"完成")))):s.createElement("div",{className:"d24",onClick:function(){this.editState(t)}.bind(this)},s.createElement("div",{className:"text-left d25 dank-schema-component-hover"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,e.title+(e.max?"　最多选择"+e.max+"项":""))),e.option.map(function(e){return s.createElement("div",{className:"dank-checkbox-inOneLine",key:e},s.createElement("input",{type:"checkbox",value:e}),s.createElement("label",null," ",e," "))}.bind(this)),e.free?s.createElement("div",{className:"dank-form-group-inline"},s.createElement("label",{className:"dank-label dank-select-label"},"其他"),s.createElement("input",{type:"text",className:"dank-form-input dank-select-input"})):null)));case"single-choose":return s.createElement("div",{key:t},this.state.othersEdit[t]?s.createElement("div",{className:"d24"},s.createElement("div",{className:"d25 dank-schema-component"},s.createElement("div",null,s.createElement("div",{className:"dank-form-group-inline dank-schema-form-group-inline"},s.createElement("h1",{className:"dank-schema-label"},"标题"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"text",id:"othersTitle"+t,defaultValue:e.title})))),s.createElement("div",null,s.createElement("h1",{className:"dank-schema-label"},"可选项（选项间以#分隔）"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",type:"text",id:"othersOption"+t,defaultValue:this.decoder(e.option)}))),s.createElement("div",{className:"dank-schema-option-group"},s.createElement("a",{className:"dank-schema-option",onClick:function(){this.moveBefore("single-choose",t)}.bind(this)},"上移"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.moveBack("single-choose",t)}.bind(this)},"下移"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.deleteComponent(t)}.bind(this)},"删除"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.save("single-choose",t)}.bind(this)},"完成")))):s.createElement("div",{className:"d24",onClick:function(){this.editState(t)}.bind(this)},s.createElement("div",{className:"text-left d25 dank-schema-component-hover"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,e.title)),e.option.map(function(e){return s.createElement("div",{className:"dank-checkbox-inOneLine",key:e},s.createElement("input",{type:"radio",value:e}),s.createElement("label",null," ",e," "))}.bind(this)))));case"file":return s.createElement("div",{key:t},this.state.othersEdit[t]?s.createElement("div",{className:"d24"},s.createElement("div",{className:"d25 dank-schema-component"},s.createElement("div",null,s.createElement("h1",{className:"dank-schema-label"},"标题"),s.createElement("div",null,s.createElement("input",{className:"dank-schema-input",id:"othersTitle"+t,type:"text",defaultValue:e.title}))),s.createElement("div",{className:"dank-schema-option-group"},s.createElement("a",{className:"dank-schema-option",onClick:function(){this.moveBefore("file",t)}.bind(this)},"上移"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.moveBack("file",t)}.bind(this)},"下移"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.deleteComponent(t)}.bind(this)},"删除"),s.createElement("a",{className:"dank-schema-option",onClick:function(){this.save("file",t)}.bind(this)},"完成")))):s.createElement("div",{className:"d24",onClick:function(){this.editState(t)}.bind(this)},s.createElement("div",{className:"text-left d25 dank-schema-component-hover"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,e.title)),s.createElement("div",null,s.createElement("div",{className:"dank-form-file-text",ref:"file"+t}),s.createElement("div",{type:"button",className:"dank-form-file-button",id:"file"+t},"上传")))));case"image":return null;default:return null}}.bind(this));return s.createElement("div",{style:e},s.createElement("h1",{className:"h1a"},s.createElement("b",null,"其他问题")),t)}})},function(e,t,a){"use strict";var n=a(1),s=a(3);e.exports=n.createClass({displayName:"exports",getInitialState:function(){return{add:!1,depart:"全部部门",pass:!0,events:[],eventsNames:[],selectedEvent:{},departments:[],selectedDep:"",rounds:[],round:0,infoComplete:!1}},componentDidMount:function(){var e=this;$.get("/event",function(t){if(0==t.code){e.setState({events:t.body.events});for(var a=[],n=0;n<e.state.events.length;n++)a.push(e.state.events[n].name);e.setState({eventsNames:a})}else alert("获取纳新事项错误："+t.msg)})},eventChecked:function(e,t){var a=this.state.events[t];return a.eventID!=this.state.selectedEvent.eventID&&(this.setState({selectedEvent:a,selectedDep:"",infoComplete:!1}),void $.ajax({url:"/form/id?eventID="+a.eventID,contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:this.setState({departments:e.body.event.formschema.wish.option});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}))},departChecked:function(e,t){if(e==this.state.selectedDep)return!1;this.setState({selectedDep:e,infoComplete:!1});var a=1;$.ajax({url:"/interview?eventID="+this.state.selectedEvent.eventID+"&department="+e+"&new=1",contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:a=e.body.interviews[0].round;for(var t=[],n=1;n<=a;n++)t.push("第"+n+"轮面试");this.setState({rounds:t});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},roundChecked:function(e,t){this.setState({round:t+1,infoComplete:!0})},changePanel:function(e){this.setState({add:e})},render:function(){var e,t,a,s,o;return 0==this.state.add?(e=n.createElement(r,{eventsNames:this.state.eventsNames,departs:this.state.departments,rounds:this.state.rounds,message:this.state.message,eventChecked:this.eventChecked,departChecked:this.departChecked,roundChecked:this.roundChecked,event:this.state.selectedEvent,depart:this.state.selectedDep}),t=null,a=n.createElement(l,{event:this.state.selectedEvent,depart:this.state.selectedDep,round:this.state.round}),s="",o=" active"):(e=n.createElement(i,{changeTarget:this.changeTarget,eventsNames:this.state.eventsNames,departs:this.state.departments,rounds:this.state.rounds,eventChecked:this.eventChecked,departChecked:this.departChecked,roundChecked:this.roundChecked}),t=this.state.infoComplete?n.createElement(c,{event:this.state.eventChecked,depart:this.state.departChecked,round:this.state.round,pass:this.state.pass}):null,a=null,s=" active",o=""),n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"content"},n.createElement("h1",null,"群发消息"),n.createElement("div",{id:"message-fun"},n.createElement("button",{className:"btn"+s,onClick:this.changePanel(!0)},"新建群发消息"),n.createElement("button",{className:"btn"+o,onClick:this.changePanel(!1)},"已发送")),e,t)),a)}});var r=n.createClass({displayName:"SendedMessage",getInitialState:function(){return{eventsNames:this.props.eventsNames,selectedEvent:this.props.event,departments:this.props.departs,selectedDep:this.props.depart,rounds:this.props.rounds,message:""}},componentWillReceiveProps:function(e){this.setState({eventsNames:e.eventsNames,departments:e.departs,rounds:e.rounds})},roundChecked:function(e,t){$.ajax({url:"/message/get",contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:this.setState({messages:e.body.messages});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}),this.props.roundChecked(e,t)},render:function(){return n.createElement("div",{className:"row",id:"sended-message"},n.createElement("div",{className:"col-md-3"},n.createElement(s,{data:this.state.eventsNames,handleChecked:this.props.eventChecked,name:"event","default":"选择面试活动",resetWhenChanged:null}),n.createElement(s,{data:this.state.departments,handleChecked:this.props.departChecked,name:"depart","default":"选择面试部门",resetWhenChanged:this.state.selectedEvent}),n.createElement(s,{data:this.state.rounds,handleChecked:this.roundChecked,name:"round","default":"选择面试轮次",resetWhenChanged:{a:this.state.selectedDep,b:this.state.selectedEvent}})),n.createElement("div",{className:"col-md-6"},n.createElement("p",null,this.state.message)),n.createElement("div",{className:"col-md-3"}))}}),l=n.createClass({displayName:"ReplyMessage",getInitialState:function(){return{reply:[[]],searchRes:[],search:!1,page:0}},componentDidMount:function(){},search:function(e){if(!e.target.value)return void this.setState({search:!1});for(var t=new RegExp(e.target.value,"gi"),a=this.state.reply,n=[],s=0;s<a.length;s++)for(var r in a[s])if("..."!=r&&a.interviewer[s][r].match(t)){n.push(a[s]);break}this.setState({searchResult:n,search:!0})},sort:function(e){},go:function(e){this.setState({page:e})},render:function(){var e=this.state.search?this.state.searchRes:this.state.reply[this.state.page];return n.createElement("div",{className:"col-md-12"},n.createElement("div",{className:"content"},n.createElement("h1",null,"回复详情"),n.createElement("div",{id:"reply-fun"},n.createElement("button",{className:"btn order",onClick:this.sort.bind(null,"arg")},"面试场次",n.createElement("i",{className:"fa fa-lg fa-caret-up"}),n.createElement("i",{className:"fa fa-lg fa-caret-down"})),n.createElement("button",{className:"btn order",onClick:this.sort.bind(null,"status")},"状态",n.createElement("i",{className:"fa fa-lg fa-caret-up"}),n.createElement("i",{className:"fa fa-lg fa-caret-down"})),n.createElement("div",{className:"col-md-2"},n.createElement("div",{className:"input-group search-bar"},n.createElement("input",{type:"text",className:"form-control",placeholder:"Search"}),n.createElement("span",{className:"input-group-btn"},n.createElement("button",{className:"btn",type:"button"},n.createElement("i",{className:"fa fa-search"})))))),n.createElement("div",{id:"reply-table"},e.map(function(e,t){return n.createElement("div",{className:"row",key:t},n.createElement("div",{className:"col-md-1"},e.name),n.createElement("div",{className:"col-md-1"},e.sex),n.createElement("div",{className:"col-md-2"},e.telnumber),n.createElement("div",{className:"col-md-2"},e.departmen),n.createElement("div",{className:"col-md-2"},e.order),n.createElement("div",{className:"col-md-2"},e.state),n.createElement("div",{className:"col-md-2"},n.createElement("button",{className:"btn"},"修改场次")))})),this.state.reply.length>1?n.createElement("div",{className:"page-nav"},n.createElement("a",{href:"",onClick:this.go.bind(null,0)},"首页"),n.createElement("a",{href:"",onClick:this.go.bind(null,0)},"上一页"),n.createElement("a",{href:"",onClick:this.go.bind(null,0)},"下一页"),n.createElement("a",{href:"",onClick:this.go.bind(null,0)},"尾页")):null))}}),i=n.createClass({displayName:"NewMessageInfoSelect",getInitialState:function(){return{target:"pass",eventsNames:this.props.eventsNames,departments:this.props.departs,rounds:this.props.rounds}},componentWillReceiveProps:function(e){this.setState({eventsNames:e.eventsNames,departments:e.departs,rounds:e.rounds})},isActive:function(e){return this.state.target==e?" active":""},changeTarget:function(e){this.setState({target:e.target.value}),this.props.changeTarget("pass"==e.target.value)},render:function(){return n.createElement("div",{className:"row",id:"message-info-select"},n.createElement("div",{className:"col-md-4"},n.createElement(s,{data:this.state.eventsNames,handleChecked:this.props.eventChecked,name:"event","default":"选择面试活动",resetWhenChanged:this.state.reset})),n.createElement("div",{className:"col-md-8"},"群发对象：",n.createElement(s,{data:this.state.departments,handleChecked:this.props.departChecked,name:"depart","default":"选择面试部门",resetWhenChanged:this.state.selectedEvent}),n.createElement(s,{data:this.state.rounds,handleChecked:this.props.roundChecked,name:"round","default":"选择面试轮次",resetWhenChanged:this.state.selectedEvent}),n.createElement("button",{className:"btn"+this.isActive("pass"),onClick:this.changeTarget,value:"pass"},"通过者"),n.createElement("button",{className:"btn"+this.isActive("fail"),onClick:this.changeTarget,value:"fail"},"未通过者")))}}),c=n.createClass({displayName:"NewMessageEdit",getInitialState:function(){return{preset:this.props.pass?"蛋壳工作室 || 第"+(this.props.round+1)+"轮面试通知，【姓名】同学，恭喜你通过了【部门】的第"+this.props.round+"轮面试，你的第"+(this.props.round+1)+"轮面试时间为【时间】，时长约【时长】分钟，地点为【地点】，请准时到达！\n联系人：":"蛋壳工作室 || 【姓名】同学，非常遗憾你没有通过【部门】的第"+this.props.round+"轮面试。",preview:"",remain:0}},componentDidMount:function(){this.translate({target:{value:this.state.preset}})},componentWillReceiveProps:function(e){var t=e.pass?"蛋壳工作室 || 第"+(e.round+1)+"论面试通知，【姓名】同学，恭喜你通过了【部门】的第"+e.round+"轮面试，你的第"+(e.round+1)+"轮面试时间为【时间】，时长约【时长】分钟，地点为【地点】，请准时到达！\n联系人：":"蛋壳工作室 || 【姓名】同学，非常遗憾你没有通过【部门】的第"+e.round+"轮面试。";this.setState({preset:t}),this.translate({target:{value:t}})},translate:function(e){var t=e.target.value;t=t.replace(/【姓名】/g,"嘿嘿嘿"),t=t.replace(/【部门】/g,"全部部门"),t=t.replace(/【时间】/g,"8月31号25:00"),t=t.replace(/【时长】/g,"2333"),t=t.replace(/【地点】/g,"ZJG行政楼楼顶"),this.setState({preset:e.target.value,preview:t})},send:function(){$.ajax({url:"/message/create",contentType:"application/json",type:"POST",data:JSON.stringify({message:{orgID:"",department:this.state.depart,date:new Date,telnumber:["17764519167"],text:this.state.preset,cost:.5}}),success:function(e){console.log(e)}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){return n.createElement("div",{className:"row",id:"message-edit"},n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"content highlight"},n.createElement("h1",null,"短信编辑"),n.createElement("div",null,n.createElement("button",{className:"btn"},"姓名"),n.createElement("button",{className:"btn"},"部门"),n.createElement("button",{className:"btn"},"时间"),n.createElement("button",{className:"btn"},"时长"),n.createElement("button",{className:"btn"},"地点"),n.createElement("button",{className:"btn"},"回复确认")),n.createElement("div",null,n.createElement("textarea",{type:"text",value:this.state.preset,onChange:this.translate})))),n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"content highlight"},n.createElement("h1",null,"短信预览"),n.createElement("div",null,n.createElement("button",{className:"btn",onClick:this.send},"确认发送"),"您还有",this.state.remain,"条短信余量"),n.createElement("div",null,n.createElement("textarea",{type:"text",value:this.state.preview})))))}})},function(e,t,a){"use strict";var n=a(1),s=a(3);e.exports=n.createClass({displayName:"exports",getInitialState:function(){return{infoComplete:!1,events:[],eventsNames:[],selectedEvent:{},departments:[],selectedDep:"",rounds:[],round:0,days:[],interview:{},selectedDate:new Date,searchResult:{},search:!1,addDay:!1,addArg:!1}},componentDidMount:function(){$.ajax({url:"/event",contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:this.setState({events:e.body.events});for(var t=[],a=0;a<this.state.events.length;a++)t.push(this.state.events[a].name);this.setState({eventsNames:t});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},eventChecked:function(e,t){var a=this.state.events[t];return a.eventID!=this.state.selectedEvent.eventID&&void this.setState({selectedEvent:a,selectedDep:"",infoComplete:!1},function(){$.ajax({url:"/form/id?eventID="+a.eventID,contentType:"application/json",type:"GET",success:function(e){0==e.code?e.body.event.allMode?this.setState({departments:["全部部门"]}):this.setState({departments:e.body.event.formschema.wish.option}):alert("获取面试部门出错"+e.msg)}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})})},departChecked:function(e,t){return e!=this.state.selectedDep&&void this.setState({selectedDep:e,round:0,infoComplete:!1},function(){var t=1;$.ajax({url:"/interview?eventID="+this.state.selectedEvent.eventID+"&department="+e+"&new=1",contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:t=e.body.interviews[0].round;for(var a=[],n=1;n<=t;n++)a.push("第"+n+"轮面试");this.setState({rounds:a});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})})},roundChecked:function(e,t){this.setState({round:t+1}),$.ajax({url:"/interview?eventID="+this.state.selectedEvent.eventID+"&department="+this.state.selectedDep+"&round="+(t+1),contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:for(var t=e.body.interviews[0],a=[],n=0;n<t.arrangement.length;n++){t.arrangement[n].startTime=new Date(Date.parse(t.arrangement[n].startTime));var s=t.arrangement[n].startTime;a.findIndex(function(e){return e.day.getMonth()==s.getMonth()&&e.day.getDate()==s.getDate()})==-1&&a.push({day:s,notSelectable:!0,selected:!0})}this.setState({interview:t,days:a,infoComplete:!0}),a.length&&this.setState({selectedDate:a[0].day});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},exports:function(){var e=this;if(!this.state.infoComplete)return void alert("请先选择面试活动");var t=this.state.interview,a=this.state.selectedEvent.name+this.state.selectedDep+"第"+this.state.round+"轮面试安排",n="面试事项,面试部门,面试轮次\r\n";n+=this.state.selectedEvent.name+","+t.department+","+t.round+"\r\n\r\n\r\n";for(var s=function(a){n+="日期,场次,开始时间,结束时间,地点,面试人数\r\n",t.arrangement.map(function(s,r){if(s.startTime.getMonth()==e.state.days[a].day.getMonth()&&s.startTime.getDate()==e.state.days[a].day.getDate()){var l="",i=0;t.interviewer.forEach(function(t){t.arrangementID==s._id&&(l+=t.name+","+t.sex+","+t.telnumber+","+e.state.selectedDep+","+t.state+"\r\n",i++)});var c=new Date(s.startTime.getTime()+6e4*(s.duration*s.total+s.interval*(s.total-1)));n+=e.state.days[a].day.getMonth()+1+"月"+e.state.days[a].day.getDate()+"日,第"+(r+1)+'场,"'+s.startTime.getHours()+":"+s.startTime.getMinutes()+'","'+c.getHours()+":"+c.getMinutes()+'",'+s.place+","+i+"\r\n",n+="姓名,性别,联系方式,面试部门,本轮面试状态\r\n",n+=l+"\r\n\r\n"}})},r=0;r<this.state.days.length;r++)s(r);var l=document.createElement("a");l.id="download",document.body.appendChild(l);var i=new Blob(["\ufeff",n],{type:"text/csv"}),c=window.URL.createObjectURL(i),o=a+".csv";$("#download").attr({download:o,href:c}),$("#download")[0].click(),document.body.removeChild(l)},update:function(){return this.state.infoComplete?void $.ajax({url:"/interview/interviewer/update",contentType:"application/json",type:"POST",data:JSON.stringify({interviewers:this.state.interview.interviewer,interviewID:this.state.interview._id}),success:function(e){0==e.code?(alert("更新成功!"),console.log(e.body)):alert("更新失败："+e.msg)}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}):void alert("请先选择面试活动")},search:function(e){if(!e.target.value||!this.state.infoComplete)return void this.setState({search:!1});for(var t=new RegExp(e.target.value,"gi"),a=this.state.interview,n=[],s=[],r=[],l=0;l<a.interviewer.length;l++)for(var i in a.interviewer[l])if("arrangementID"!=i&&a.interviewer[l][i].match(t)){n.push(a.interviewer[l]);break}for(var c=0;c<a.arrangement.length;c++)for(var o=0;o<n.length;o++)a.arrangement[c]._id==n[o].arrangementID&&(r.push(a.arrangement[c]),s.push({day:a.arrangement[c].startTime,notSelectable:!0,selected:!0}));this.setState({searchResult:{days:s,arrangement:r,interviewer:n},search:!0})},changeDay:function(e){this.setState({selectedDate:e})},addDay:function(e){var t=this.state.days;return t.findIndex(function(t){return t.day.getMonth()==e.getMonth()&&t.day.getDate()==e.getDate()})==-1&&t.push({day:e,notSelectable:!0,selected:!0}),t.sort(function(e,t){return e.day-t.day}),this.setState({days:t,selectedDate:e,dateSelected:!0}),!0},addArg:function(e){var t=this.state.selectedEvent.arrangements.slice();t.push(e);var a=this.state.selectedEvent;a.arrangements=t},isActive:function(e){return e.getMonth()==this.state.selectedDate.getMonth()&&e.getDate()==this.state.selectedDate.getDate()?" active":""},handleClick:function(){this.setState({addDay:!this.state.addDay})},handleIverChange:function(e){var t=this.state.interview.interviewer.findIndex(function(t){return e._id==t._id}),a=this.state.interview;a.interviewer[t]=e,this.setState({interview:a})},handleDelete:function(e){var t=this.state.interview.interviewer.findIndex(function(t){return e.telnumber==t.telnumber}),a=this.state.interview;t>-1&&a.interviewer.splice(t,1),this.setState({interview:a})},render:function(){var e=this,t=this.state.search?this.state.searchResult:this.state.interview,a=this.state.search?t.days:this.state.days,l=this.state.infoComplete?n.createElement("div",{className:"panel-body"},n.createElement("div",{className:"container-fluid",id:"interview-status"},n.createElement("div",{className:"date-fun"},a.map(function(t,a){return n.createElement("div",{className:"interview-date"+e.isActive(t.day),title:t.day.getMonth()+1+"月"+t.day.getDate()+"日",onClick:e.changeDay.bind(null,t.day),key:a},t.day.getMonth()+1+"月"+t.day.getDate()+"日")})),n.createElement("div",{className:"row"},t.arrangement.map(function(a,s){if(a.startTime.getMonth()==e.state.selectedDate.getMonth()&&a.startTime.getDate()==e.state.selectedDate.getDate()){var l=[];return t.interviewer.forEach(function(e){e.arrangementID==a._id&&l.push(e)}),n.createElement(r,{key:s,index:s,data:l,arg:a,iv:e.state.interview,handleChange:e.handleIverChange,handleDelete:e.handleDelete})}})))):null;return n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"panel",id:"interview-status-panel"},n.createElement("div",{className:"panel-heading"},n.createElement("div",{className:"row",id:"interview-select-bar"},n.createElement("div",{className:"col-md-2"},n.createElement(s,{data:this.state.eventsNames,handleChecked:this.eventChecked,name:"event","default":"选择面试活动",resetWhenChanged:null})),n.createElement("div",{className:"col-md-2"},n.createElement(s,{data:this.state.departments,handleChecked:this.departChecked,name:"depart","default":"选择面试部门",resetWhenChanged:this.state.selectedEvent})),n.createElement("div",{className:"col-md-2"},n.createElement(s,{data:this.state.rounds,handleChecked:this.roundChecked,name:"round","default":"选择面试轮次",resetWhenChanged:this.state.selectedDep})),n.createElement("div",{className:"col-md-2"},n.createElement("button",{className:"btn",onClick:this.exports},"面试安排信息导出")),n.createElement("div",{className:"col-md-2"},n.createElement("button",{className:"btn",onClick:this.update},"本轮面试状态更新")),n.createElement("div",{className:"col-md-2"},n.createElement("div",{className:"input-group search-bar"},n.createElement("input",{type:"text",className:"form-control",placeholder:"Search",onChange:this.search}),n.createElement("span",{className:"input-group-btn"},n.createElement("button",{className:"btn",type:"button"},n.createElement("i",{className:"fa fa-search"}))))))),l))}});var r=n.createClass({displayName:"ArgStatus",getInitialState:function(){return{isActive:!1,startTime:this.props.arg.startTime,interviewers:this.props.data||[],arg:this.props.arg,interview:this.props.iv}},componentWillReceiveProps:function(e){return this.setState({interviewers:e.data||[]}),!0},changeArg:function(e){alert("coming soon")},deleteIv:function(e){var t=this;$.post("/interview/interviewer/delete",{interviewID:this.state.interview._id,telnumber:e.telnumber},function(a){0==a.code?(alert("删除成功！"),t.props.handleDelete(e)):alert("删除失败："+a.msg)})},changeState:function(e,t){e.state=t.target.checked?"通过":"未通过",this.props.handleChange(e)},handleClick:function(){$(this.refs[this.props.index]).next().slideToggle(300)},render:function(){var e=this,t=this.state.arg,a=new Date(t.startTime.getTime()+6e4*t.duration);return n.createElement("div",{className:"panel"},n.createElement("div",{className:"panel-heading row",onClick:this.handleClick,ref:this.props.index},n.createElement("div",{className:"col-md-3 col-lg-3 col-sm-3 col-xs-3"},"第"+(this.props.index+1)+"场"),n.createElement("div",{className:"col-md-3 col-lg-3 col-sm-3 col-xs-3"},t.startTime.getHours()+":"+t.startTime.getMinutes()," -",a.getHours()+":"+a.getMinutes()),n.createElement("div",{className:"col-md-3 col-lg-3 col-sm-3 col-xs-3"},"地点：",t.place),n.createElement("div",{className:"col-md-3 col-lg-3 col-sm-3 col-xs-3"},"本场面试人数：",this.state.interviewers.length,"人")),n.createElement("div",{className:"panel-body"},this.state.interviewers.map(function(t,a){var s=1==e.state.interview.round?"表刷通过":"第"+(e.state.interview.round-1)+"轮面试通过";return n.createElement("div",{className:"row",key:a},n.createElement("div",{className:"col-md-1"},t.name),n.createElement("div",{className:"col-md-1"},t.sex),n.createElement("div",{className:"col-md-2"},t.telnumber),n.createElement("div",{className:"col-md-2"},e.state.interview.department),n.createElement("div",{className:"col-md-2"},s),n.createElement("div",{className:"col-md-2"},n.createElement("button",{className:"btn",onClick:e.changeArg.bind(null,t)},"修改场次"),n.createElement("button",{className:"btn",onClick:e.deleteIv.bind(null,t)},"删除")),n.createElement("div",{className:"col-md-2"},n.createElement("div",{className:"check-state"},"通过第"+e.state.interview.round+"轮",n.createElement("input",{type:"checkbox",id:"ivstate",name:"check",checked:"通过"==t.state,onChange:e.changeState.bind(null,t)}),n.createElement("label",{htmlFor:"ivstate"}))))})))}})},function(e,t,a){"use strict";var n=a(1),s=a(3),r=a(15);e.exports=n.createClass({displayName:"exports",getInitialState:function(){return{infoComplete:!1,events:[],eventsNames:[],selectedEvent:{},departments:[],selectedDep:"",round:0,reset:!1,allMode:!1}},componentDidMount:function(){$.ajax({url:"/event",contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:this.setState({events:e.body.events});for(var t=[],a=0;a<this.state.events.length;a++)t.push(this.state.events[a].name);this.setState({eventsNames:t});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},eventChecked:function(e,t){var a=this.state.events[t];return a.eventID!=this.state.selectedEvent.eventID&&void this.setState({selectedEvent:a,selectedDep:"",infoComplete:!1},function(){$.ajax({url:"/form/id?eventID="+a.eventID,contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:this.setState({departments:["全部部门"].concat(e.body.event.formschema.wish.option),allMode:e.body.event.allMode});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})})},departChecked:function(e,t){if("全部部门"!=e&&this.state.allMode){var a=confirm("当前如果进行其他部门的面试安排，先前全部面试的面试通过者将会导入此轮并且不可修改，确认？");if(!a)return}else if("全部部门"==e)return this.state.allMode?void alert("对全部部门面试进行安排仅适用于第一轮，之后轮次请选择其他部门分别进行安排"):void this.setState({selectedDep:e,round:1,infoComplete:!0});this.setState({selectedDep:e},function(){$.ajax({url:"/interview?eventID="+this.state.selectedEvent.eventID+"&department="+this.state.selectedDep+"&new=1",contentType:"application/json",type:"GET",success:function(e){return 0!=e.code?void alert("无法获取当前部门面试轮次："+e.msg):void this.setState({round:e.body.interviews[0].round+1,infoComplete:!0})}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})})},handlePost:function(){this.setState({infoComplete:!1,reset:!this.state.reset,selectedDep:"",round:0})},updateAllMode:function(e){this.setState({allMode:e})},render:function(){var e=0==this.state.infoComplete?null:n.createElement(l,{event:this.state.selectedEvent,department:this.state.selectedDep,round:this.state.round,handlePost:this.handlePost,allMode:this.state.allMode,updateAllMode:this.updateAllMode});return n.createElement("div",{className:"container-fluid"},n.createElement("div",{
className:"panel",id:"interview-select-panel"},n.createElement("div",{className:"panel-heading"},n.createElement("h3",{className:"panel-title"},"请完善您的面试场次安排信息")),n.createElement("div",{className:"panel-body"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-4"},n.createElement(s,{data:this.state.eventsNames,handleChecked:this.eventChecked,name:"event","default":"选择面试活动",resetWhenChanged:null})),n.createElement("div",{className:"col-md-4"},n.createElement(s,{data:this.state.departments,handleChecked:this.departChecked,name:"depart","default":"请选择面试部门",resetWhenChanged:[this.state.selectedEvent,this.state.reset]})),n.createElement("div",{className:"col-md-4"},n.createElement("a",{className:"thumbnail"},">>第"+this.state.round+"次面试<<"))),e)))}});var l=n.createClass({displayName:"Interviews",getInitialState:function(){var e=new Date((new Date).getTime()+6048e5);return{event:this.props.event,department:this.props.department,round:this.props.round,selectedDate:e,days:[{day:e,notSelectable:!0,selected:!0}],arrangements:[],addDay:!1,dateSelected:!0}},componentWillReceiveProps:function(e){this.setState({event:e.event,department:e.department,round:e.round})},changeDay:function(e){this.setState({selectedDate:e,dateSelected:!0})},isActive:function(e){return this.state.selectedDate&&e.getMonth()==this.state.selectedDate.getMonth()&&e.getDate()==this.state.selectedDate.getDate()?" active":""},addDay:function(e){var t=this.state.days;return t.findIndex(function(t){return t.day.getMonth()==e.getMonth()&&t.day.getDate()==e.getDate()})==-1&&t.push({day:e,notSelectable:!0,selected:!0}),t.sort(function(e,t){return e.day-t.day}),this.setState({days:t,selectedDate:e,dateSelected:!0}),!0},addCard:function(){if(!this.state.dateSelected)return void alert("请先选择日期");var e=this.state.selectedDate,t={duration:0,startTime:e,place:"",interval:0,total:0};this.setState({arrangements:this.state.arrangements.concat([t])})},deleteArg:function(e,t){parseInt(t.target.value,10);this.setState(function(t){return t.arrangements.splice(e,1),{arrangements:t.arrangements}})},deleteDate:function(e,t){var a=this.state.days,n=a[e].day;a.splice(e,1);var s=this.state.arrangements;s.forEach(function(e,t){e.startTime.getMonth()==n.getMonth()&&e.startTime.getDate()==n.getDate()&&s.splice(t,1)}),s=s||[],this.setState({dateSelected:!1,days:a,arrangements:s})},postPrepare:function(){var e=this;"全部部门"==this.state.department?$.ajax({url:"/interview/all/on",contentType:"application/json",type:"POST",data:JSON.stringify({eventID:this.state.event.eventID}),success:function(t){return 0!=t.code?void alert("无法对【全部部门】进行安排："+t.msg):(e.props.updateAllMode(!0),void e.post())},error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}):this.props.allMode?$.ajax({url:"/interview/all/off",contentType:"application/json",type:"POST",data:JSON.stringify({eventID:this.state.event.eventID}),success:function(t){return 0!=t.code?void alert("无法终止【全部部门】的面试："+t.msg):(e.props.updateAllMode(!1),void e.post())},error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}):this.post()},post:function(){var e=this;$.post("/interview/create",{eventID:this.state.event.eventID,round:this.state.round,department:this.state.department},function(t){if(0!=t.code)return void alert("无法创建新一轮面试："+t.msg);var a=t.body.interview._id;$.ajax({url:"/interview/arrangement/create",contentType:"application/json",type:"POST",data:JSON.stringify({arrangements:e.state.arrangements,interviewID:a}),success:function(t){console.log(t),0==t.code?(alert(e.state.event.name+e.state.department+"部门第"+e.state.round+"轮面试场次安排成功"),e.props.handlePost()):(alert(t.msg+"，生成安排失败"),$.post("/interview/delete",{eventID:e.state.event.eventID,round:e.state.round,department:e.state.department}))},error:function(e,t,a){console.error("ajax请求发起失败")}.bind(e)})})},resetCard:function(){this.setState({arrangements:[],days:[],dateSelected:!1})},handleChange:function(e,t,a){var n=this.state.arrangements;if("minutes"==e||"hours"==e){var s=this.state.selectedDate;"minutes"==e?s.setMinutes(a.target.value):s.setHours(a.target.value),e="startTime",n[t][e]=s}else n[t][e]=a.target.value;this.setState({arrangements:n})},handleClick:function(){this.setState({addDay:!this.state.addDay})},render:function(){var e=this;return n.createElement("div",{className:"container-fluid",id:"interview-info"},n.createElement("div",{className:"date-fun"},this.state.days.map(function(t,a){return n.createElement("div",{className:"interview-date"+e.isActive(t.day),title:t.day.getMonth()+1+"月"+t.day.getDate()+"日",key:a},n.createElement("p",{onClick:e.changeDay.bind(null,t.day)},t.day.getMonth()+1+"月"+t.day.getDate()+"日"),n.createElement("i",{className:"fa fa-fw fa-close",onClick:e.deleteDate.bind(null,a)}))}),n.createElement("div",{className:"interview-date",id:"add-date",onClick:this.handleClick},"添加日期"),n.createElement("div",{className:"date-picker"+(this.state.addDay?" active":"")},n.createElement(r,{closePicker:this.handleClick,callbackContext:this,highlightDays:this.state.days,dayClick:this.addDay}))),n.createElement(i,{items:this.state.arrangements,selectedDate:this.state.selectedDate,addCard:this.addCard,handleDelete:this.deleteArg,handleChange:this.handleChange}),n.createElement("button",{className:"btn",id:"gen-btn",onClick:this.postPrepare},"生成"),n.createElement("button",{className:"btn",id:"cancle-btn",onClick:this.resetCard},"重置"),n.createElement("div",{className:"cover"+(this.state.addDay?"active":"")}))}}),i=n.createClass({displayName:"Cards",render:function(){var e=this;return n.createElement("div",{className:"row"},this.props.items.map(function(t,a){if(t.startTime.getMonth()==e.props.selectedDate.getMonth()&&t.startTime.getDate()==e.props.selectedDate.getDate()){var s=new Date(t.startTime.getTime()+6e4*(t.duration*t.total+t.interval*(t.total-1)));return n.createElement("div",{className:"col-md-6",key:a},n.createElement("div",{className:"interview-card"},n.createElement("div",{className:"card-heading"},n.createElement("p",null,t.startTime.getMonth()+1+"月"+t.startTime.getDate()+"日","面试场次"),n.createElement("i",{className:"fa fa-times",onClick:e.props.handleDelete.bind(null,a),value:a})),n.createElement("label",null,"面试地点",n.createElement("input",{type:"text",name:"place",value:t.place,onChange:e.props.handleChange.bind(null,"place",a)})),n.createElement("label",null,"此场点安排的场数为",n.createElement("input",{type:"text",name:"total",value:t.total,onChange:e.props.handleChange.bind(null,"total",a)})),n.createElement("label",null,"每场次面试时间为",n.createElement("p",null,"分钟"),n.createElement("input",{type:"text",name:"duration",value:t.duration,onChange:e.props.handleChange.bind(null,"duration",a)})),n.createElement("label",null,"每场次面试休息时间",n.createElement("p",null,"分钟"),n.createElement("input",{type:"text",value:t.interval,onChange:e.props.handleChange.bind(null,"interval",a)})),n.createElement("label",null,"该场地面试开始于",n.createElement("input",{type:"text",value:t.startTime.toTimeString().split(":")[1],onChange:e.props.handleChange.bind(null,"minutes",a)}),n.createElement("p",null,":"),n.createElement("input",{type:"text",value:t.startTime.toTimeString().split(":")[0],onChange:e.props.handleChange.bind(null,"hours",a)})),n.createElement("label",null,"面试将结束于",n.createElement("input",{type:"text",disabled:!0,value:s.toTimeString().split(":")[1]}),n.createElement("p",null,":"),n.createElement("input",{type:"text",disabled:!0,value:s.toTimeString().split(":")[0]}))))}}),n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"interview-card",id:"add-interview-card"},n.createElement("i",{className:"fa fa-3x fa-plus",onClick:this.props.addCard}))))}})},function(e,t,a){"use strict";var n,s,r,l=a(1),i=(l.Component,a(3));e.exports=l.createClass({displayName:"exports",render:function(){return l.createElement(c,null)}});var c=l.createClass({displayName:"Content",getInitialState:function(){return{initial:1,nowEventID:"",events:[{eventID:"",name:"",ym:""}]}},bottomUp:function(e){for(var t=[],a=[],n=0;n<e.length;n++)t.push(e[n]);for(var s=0;s<e.length;s++)a.push(t.pop());return a},componentDidMount:function(){$.ajax({url:"/event",contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:if(this.isMounted()){var t=e.body.events;this.setState({events:t}),this.state.initial&&this.setState({nowEventID:t[0].eventID,initial:0})}break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},eventChange:function(e){this.setState({nowEventID:e})},render:function(){return l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-4 col-sm-4"},l.createElement("div",{className:"event"},l.createElement(o,{eventID:this.state.nowEventID,events:this.state.events,eventChange:this.eventChange}))),l.createElement("div",{className:"col-md-8 col-sm-8"},""!=this.state.nowEventID?l.createElement(m,{eventID:this.state.nowEventID}):null)),l.createElement("div",{className:"qr-code-background",id:"qrCodeBackground",onClick:function(){$("#qrCodeBackground, #qrCodeDiv").fadeOut(),$("#qrCode").empty()}}),l.createElement("div",{className:"qr-code-div",id:"qrCodeDiv"},l.createElement("div",{className:"qr-code-text"},"扫描二维码或访问下述网址即可报名 "),l.createElement("div",{className:"qr-code-text"},"PC端: www.zju-welcome.com/#/form/",this.state.nowEventID," "),l.createElement("div",{className:"qr-code-text"},"移动端: www.zju-welcome.com/#/mobile/form/",this.state.nowEventID," "),l.createElement("div",{id:"qrCode",className:"qr-code"})))}}),o=l.createClass({displayName:"Event",eventDelete:function(){var e=this.props.eventID;$.ajax({url:"/event/delete",contentType:"application/json",type:"POST",data:JSON.stringify({eventID:e}),success:function(e){switch(e.code){case 0:location.reload();break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},share:function(){$("#qrCode").qrcode({text:"http://www.zju-welcome.com/#/mobile/form/"+this.props.eventID,width:225,height:225}),$("#qrCodeDiv,#qrCodeBackground").fadeIn()},render:function(){var e=this.props.events.map(function(e){var t=e.eventID==this.props.eventID?"row dank-temp-table-active":"row dank-temp-table",a=e.eventID==this.props.eventID?null:function(){this.props.eventChange(e.eventID)}.bind(this);return l.createElement("div",{className:t,onClick:a,key:e.eventID},l.createElement("div",{className:"col-md-12"},l.createElement("table",{className:"center-block"},l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",null,l.createElement("div",{className:"text-center"},l.createElement("div",{className:"dank-d4"},e.ym))),l.createElement("td",null,l.createElement("div",{className:"text-left"},e.name))))),e.eventID==this.props.eventID?l.createElement("big",{className:"dank-event-delete",onClick:this.eventDelete},"删除"):null,e.eventID==this.props.eventID?l.createElement("big",{className:"dank-event-share",onClick:this.share},"分享报名地址"):null,e.eventID==this.props.eventID?l.createElement("big",{className:"dank-event-form",onClick:function(){window.open("#/form/"+this.props.eventID)}.bind(this)},"查看报名页面"):null))}.bind(this));return l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12 text-left"},l.createElement("div",{className:"panel-title",href:"#"},"纳新事项"))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12 text-left"},l.createElement("a",{className:"btn panel-btn",href:"#/back/manage/add"},"新增事项"))),e)}}),m=l.createClass({displayName:"Form",getInitialState:function(){return{event:{}}},componentDidMount:function(){$.ajax({url:"/form/id",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID},success:function(e){this.setState({event:e.body.event})}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){return l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-6"},l.createElement(d,{eventID:this.props.eventID})),l.createElement("div",{className:"col-md-6"},l.createElement(h,{eventID:this.props.eventID}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-12"},l.createElement(u,{eventID:this.props.eventID,departments:this.state.event.formschema?this.state.event.formschema.wish.option:[]}))))}}),d=l.createClass({displayName:"Graph1",getInitialState:function(){return{data:[]}},print:function(e){var t=document.getElementById("myChart3");r=new Chart(t,{type:"line",data:{labels:e.labels,datasets:[{label:"My First dataset",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:2,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10,data:e.counts,spanGaps:!1}]},options:{title:{display:!0,text:"报名人数",position:"top",fontStyle:"normal",fontFamily:"'SimHei', 'STXihei', 'Microsoft YaHei', 'Hiragino Sans GB', 'STHeiti Light'",fontSize:24,padding:20},legend:{display:!1}}})},componentDidMount:function(){$.ajax({url:"/event/count/recent",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID,num:7},success:function(e){switch(e.code){case 0:this.isMounted()&&this.print(e.body.data);break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},componentDidUpdate:function(){$.ajax({url:"/event/count/recent",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID,num:7},success:function(e){switch(e.code){case 0:this.isMounted()&&(r&&r.destroy(),this.print(e.body.data));break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){return l.createElement("div",{className:"c6 text-center"},l.createElement("table",{className:"t2"},l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",{style:{height:"20.294000rem",width:"100%"}},l.createElement("canvas",{id:"myChart3",width:"270px",height:"198px",className:"can1"}))))))}}),h=l.createClass({displayName:"Graph2",print1:function(e){var t=e.counts[2],a=document.getElementById("myChart1");n=new Chart(a,{type:"doughnut",data:{labels:["男","女"],datasets:[{data:[e.counts[0],e.counts[1]],backgroundColor:["#79dae7","#ff8d94"],hoverBackgroundColor:["#79dae7","#ff8d94"]}]},options:{responsive:!1,rotation:-.5*Math.PI,title:{display:!0,text:"总人数:"+t,position:"bottom",fontStyle:"normal",fontFamily:"'SimHei', 'STXihei', 'Microsoft YaHei', 'Hiragino Sans GB', 'STHeiti Light'",fontSize:20},legend:{display:!1,position:"top",fontFamily:"'SimHei', 'STXihei', 'Microsoft YaHei', 'Hiragino Sans GB', 'STHeiti Light'"}}})},print2:function(e){var t=document.getElementById("myChart2");s=new Chart(t,{type:"doughnut",data:{labels:e.labels,datasets:[{data:e.counts,backgroundColor:["#3D5B6F","#9887C2","#2FC5A1","#2DD7E2","#A0F5FF","#FFD666","#EF7056","#A95A4C"]}]},options:{responsive:!1,rotation:-.5*Math.PI,title:{display:!0,text:"各部门报名人数",position:"bottom",fontStyle:"normal",fontFamily:"'SimHei', 'STXihei', 'Microsoft YaHei', 'Hiragino Sans GB', 'STHeiti Light'",fontSize:20},legend:{display:!1,position:"bottom"}}})},componentDidMount:function(){$.ajax({url:"/event/count/all",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID},success:function(e){switch(e.code){case 0:this.isMounted()&&(this.print1(e.body.gender),this.print2(e.body.department));break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},componentDidUpdate:function(){$.ajax({url:"/event/count/all",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID},success:function(e){switch(console.log(e),e.code){case 0:this.isMounted()&&(n&&n.destroy(),this.print1(e.body.gender),s&&s.destroy(),this.print2(e.body.department));break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){return l.createElement("div",{className:"dank-c6 text-center"},l.createElement("table",{className:"dank-t3"},l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",{style:{height:"20.294000rem"}},l.createElement("canvas",{id:"myChart1",width:"150px",height:"200px",className:"dank-can2"})),l.createElement("td",{style:{height:"20.294000rem"}},l.createElement("canvas",{id:"myChart2",width:"150px",height:"200px",className:"dank-can2"}))))))}}),u=l.createClass({displayName:"List",getInitialState:function(){return{wish:"全部部门",order:-1,page:1,forms:[{writetime:"",browserinfo:"",date:"",like:"",baseinfo:{name:"",sex:"",origin:"",nation:"",schoolID:"",politicalStatus:"",telnumber:"",telshort:"",email:"",qq:"",major:"",birth:"",address:""},skills:{title:"",chosen:[]},introduction:{title:"",content:""},wish:{title:"",chosen:[]},reason:[],remark:"",others:[]}]}},componentDidMount:function(){$.ajax({url:"/form",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID,order:this.state.order,page:this.state.page,wish:"全部部门"==this.state.wish?null:this.state.wish},success:function(e){switch(console.log(e),e.code){case 0:this.isMounted()&&this.setState({forms:e.body.forms});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},componentWillReceiveProps:function(e){this.setState({page:1}),$.ajax({url:"/form",contentType:"application/json",type:"GET",data:{eventID:e.eventID,order:this.state.order,page:this.state.page,wish:"全部部门"==this.state.wish?null:this.state.wish},success:function(e){switch(console.log(e),e.code){case 0:this.isMounted()&&this.setState({forms:e.body.forms});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},selectHandler:function(e,t){return e!=this.state.wish&&(this.setState({wish:e}),this.setState({page:1}),void $.ajax({url:"/form",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID,order:this.state.order,page:this.state.page,wish:"全部部门"==e?null:e},success:function(e){switch(console.log(e),e.code){case 0:this.isMounted()&&this.setState({forms:e.body.forms});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}))},orderChange:function(){var e=-this.state.order;this.setState({order:e}),$.ajax({url:"/form",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID,order:e,page:this.state.page,wish:"全部部门"==this.state.wish?null:this.state.wish},success:function(e){switch(console.log(e),e.code){case 0:this.isMounted()&&this.setState({forms:e.body.forms});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},firstPage:function(){this.setState({page:1}),$.ajax({url:"/form",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID,order:this.state.order,page:1,wish:"全部部门"==this.state.wish?null:this.state.wish},success:function(e){switch(console.log(e),e.code){case 0:this.isMounted()&&this.setState({forms:e.body.forms});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},lastPage:function(){var e=this.state.page;return e>1&&(e--,this.setState({page:e}),void $.ajax({url:"/form",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID,order:this.state.order,page:e,wish:"全部部门"==this.state.wish?null:this.state.wish},success:function(e){switch(console.log(e),e.code){case 0:this.isMounted()&&this.setState({forms:e.body.forms});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}))},nextPage:function(){var e=this.state.page;return e>0&&(e++,this.setState({page:e}),void $.ajax({url:"/form",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID,order:this.state.order,page:e,wish:"全部部门"==this.state.wish?null:this.state.wish},success:function(e){switch(console.log(e),e.code){case 0:this.isMounted()&&this.setState({forms:e.body.forms});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}))},"delete":function(e,t){$.ajax({url:"/form/delete",contentType:"application/json",type:"POST",data:JSON.stringify({id:e}),success:function(e){console.log(e),this.setState(function(e){return e.forms.splice(t,1),{forms:e.forms}})}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},output:function(){window.open("#/forms/output/"+this.props.eventID+"/"+this.state.wish)},render:function(){var e={textAlign:"left"},t={textAlign:"left","float":"left"},a={textAlign:"left","float":"right"},n={border:"0.146rem solid #000000",borderRadius:"0.584rem",width:"10.512rem",fontSize:"1.314rem",color:"#444852",height:"2.92rem",lineHeight:"2.92rem",display:"block",textAlign:"center",marginLeft:"0.73rem"},s={textAlign:"Right"},r=this.state.forms.map(function(e,t){return l.createElement("tr",{key:t},l.createElement("td",null,e.baseinfo.name),l.createElement("td",null,e.baseinfo.sex),l.createElement("td",null,e.baseinfo.major),l.createElement("td",null,new function(){var t=[],a=!0,n=!1,s=void 0;try{for(var r,l=e.wish.chosen[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var i=r.value;t.push(i+" ")}}catch(c){n=!0,s=c}finally{try{!a&&l["return"]&&l["return"]()}finally{if(n)throw s}}return t}),l.createElement("td",null,e.date.substring(0,10)),l.createElement("td",{style:s},l.createElement("a",{className:"a19",onClick:function(){this["delete"](e._id,t)}.bind(this)},"删除")))}.bind(this));return l.createElement("div",{className:"dank-c7 text-center"},l.createElement("div",{style:e},l.createElement("big",{style:n},"报名表序号 ",this.props.eventID)),l.createElement("div",{style:t},null,l.createElement("big",{className:"dank-a14",onClick:this.output},l.createElement("b",null,"导出报名表"))),l.createElement("div",{style:a,className:"form-inline",id:"form-manage-option"},l.createElement(i,{data:this.props.departments.concat(["全部部门"]),handleChecked:this.selectHandler,name:"department","default":this.state.wish,resetWhenChanged:null}),l.createElement("big",{className:"dank-a14",onClick:this.orderChange},l.createElement("b",null,"时间",this.state.order>0?l.createElement("i",{className:"fa fa-chevron-down i3","aria-hidden":"true"}):l.createElement("i",{className:"fa fa-chevron-up i3","aria-hidden":"true"})))),l.createElement("b",null,l.createElement("table",{className:"table dank-t5"},l.createElement("tbody",null,this.state.forms?r:null))),l.createElement("div",null,l.createElement("b",null,l.createElement("a",{className:"a20",onClick:this.firstPage},"首页"),l.createElement("a",{className:"a20",onClick:this.lastPage},"上一页"),l.createElement("a",{className:"a20",onClick:this.nextPage},"下一页"))))}})},function(e,t,a){"use strict";var n=a(1);n.Component;e.exports=n.createClass({displayName:"exports",render:function(){return n.createElement("div",null,n.createElement("div",{className:"dank-slider"},n.createElement("div",null,n.createElement("big",{className:"dank-slider-active"},n.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),n.createElement("b",null," 个人信息")))),n.createElement("div",{className:"dank-slider-right"},n.createElement(s,null)))}});var s=n.createClass({displayName:"InfoBox",getInitialState:function(){return{_id:"",username:"",address:"",birth:"",email:"",name:"",nation:"",origin:"",politicalStatus:"",qq:"",schoolID:"",sex:"",telnumber:"",telshort:"",major:"",grade:"",img:""}},componentDidMount:function(){$.ajax({url:"/user/profile",contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:this.isMounted()&&this.setState({_id:e.body.user._id,username:e.body.user.username,address:e.body.user.baseinfo.address,birth:e.body.user.baseinfo.birth,email:e.body.user.baseinfo.email,name:e.body.user.baseinfo.name,nation:e.body.user.baseinfo.nation,origin:e.body.user.baseinfo.origin,politicalStatus:e.body.user.baseinfo.politicalStatus,qq:e.body.user.baseinfo.qq,schoolID:e.body.user.baseinfo.schoolID,sex:e.body.user.baseinfo.sex,telnumber:e.body.user.baseinfo.telnumber,telshort:e.body.user.baseinfo.telshort,major:e.body.user.baseinfo.major,grade:e.body.user.baseinfo.grade,img:e.body.user.baseinfo.img});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},crawlerSubmit:function(){var e=this.refs.crawlerUsername.value,t=this.refs.crawlerPassword.value;return e&&t?void $.ajax({url:"/user/syncprofile",contentType:"application/json",type:"POST",data:JSON.stringify({jwbusr:e,jwbpwd:t}),success:function(e){switch(e.code){case-1:$("#crawlerErr").show();break;case 0:$("#crawler").hide(),$("#crawlerSuccess").show();break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}):($("#crawlerErr").show(),null)},render:function(){return n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12 c4"},n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"dank-d2"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-8 col-md-offset-1 text-left"},n.createElement("div",{className:"btn-group btn-group-lg d3"},n.createElement("a",{className:"btn dank-a5",href:"/#/person/info/change"},n.createElement("b",{className:"b1"},"修改")),n.createElement("a",{className:"btn dank-a6",onClick:function(){$("#crawler").fadeIn()}},n.createElement("b",{className:"b1"},"从教务网导入")),n.createElement("div",{className:"crawler",id:"crawler"},n.createElement("div",{className:"crawler-title"},"请输入教务网账号信息"),n.createElement("div",{className:"crawler-icon",onClick:function(){$("#crawler").fadeOut()}},n.createElement("i",{className:"fa fa-times"})),n.createElement("div",{className:"crawler-error",id:"crawlerErr"},"请输入正确的账号密码"),n.createElement("div",{className:"crawler-form"},n.createElement("div",{className:"crawler-form-group"},n.createElement("label",{className:"crawler-label"},"账号:"),n.createElement("input",{type:"text",ref:"crawlerUsername",className:"crawler-input"})),n.createElement("div",{className:"crawler-form-group"},n.createElement("label",{className:"crawler-label"},"密码:"),n.createElement("input",{type:"password",ref:"crawlerPassword",className:"crawler-input"}))),n.createElement("div",{className:"crawler-button",onClick:this.crawlerSubmit},"提交")),n.createElement("div",{className:"crawler-success",id:"crawlerSuccess"},n.createElement("div",{className:"crawler-success-icon"},n.createElement("i",{className:"fa fa-check fa-2x"})),n.createElement("div",{className:"crawler-success-text"},"导入成功"),n.createElement("div",{className:"crawler-button",onClick:function(){$("#crawlerSuccess").fadeOut()}},"返回")))),n.createElement("div",{className:"col-md-1 col-md-offset-1 text-right"},n.createElement("img",{src:"static/img/label.png",className:"dank-i1"}))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-9 c4"},n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12"},n.createElement("table",{className:"dank-t1"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"td-title"},"用户名"),n.createElement("td",{className:"td-content"},this.state.username),n.createElement("td",{className:"td-title"}),n.createElement("td",{className:"td-content"})),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"密码"),n.createElement("td",{className:"td-content"},this.state.password),n.createElement("td",{className:"td-title"}),n.createElement("td",{className:"td-content"})))))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12"},n.createElement("table",{className:"dank-t1"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"td-title"},"姓名"),n.createElement("td",{className:"td-content"},this.state.name)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"性别"),n.createElement("td",{className:"td-content"},this.state.sex)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"籍贯"),n.createElement("td",{className:"td-content"},this.state.origin)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"民族"),n.createElement("td",{className:"td-content"},this.state.nation)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"学号"),n.createElement("td",{className:"td-content"},this.state.schoolID)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"政治面貌"),n.createElement("td",{className:"td-content"},this.state.politicalStatus)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"手机长号"),n.createElement("td",{className:"td-content"},this.state.telnumber)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"手机短号"),n.createElement("td",{className:"td-content"},this.state.telshort)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"邮箱"),n.createElement("td",{className:"td-content"},this.state.email)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"QQ"),n.createElement("td",{className:"td-content"},this.state.qq)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"专业"),n.createElement("td",{className:"td-content"},this.state.major)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"年级"),n.createElement("td",{className:"td-content"},this.state.grade)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"生日"),n.createElement("td",{className:"td-content"},this.state.birth)),n.createElement("tr",null,n.createElement("td",{className:"td-title"},"寝室地址"),n.createElement("td",{className:"td-content"},this.state.address)))))))),n.createElement("div",{className:"col-md-3 text-center c4"},n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row"},n.createElement("img",{src:this.state.img?this.state.img:"static/img/male.png",className:"i2"}))))))))))}})},function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=a(1);s.Component;e.exports=s.createClass({displayName:"exports",render:function(){return s.createElement("div",null,s.createElement("div",{className:"dank-slider"},s.createElement("div",null,s.createElement("big",{className:"dank-slider-active"},s.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),s.createElement("b",null," 个人信息")))),s.createElement("div",{className:"dank-slider-right"},s.createElement(r,null)))}});var r=s.createClass({displayName:"InfoBox",getInitialState:function(){return{_id:"",username:"",address:"",birth:"",email:"",name:"",nation:"",origin:"",politicalStatus:"",qq:"",schoolID:"",sex:"",telnumber:"",telshort:"",major:"",grade:"",img:""}},componentDidMount:function(){console.log("abc"),$.ajax({url:"/user/profile",contentType:"application/json",type:"GET",success:function(e){switch(console.log(e.code),e.code){case 0:this.isMounted()&&(console.log(e.body.user),this.setState({_id:e.body.user._id,username:e.body.user.username,address:e.body.user.baseinfo.address,birth:e.body.user.baseinfo.birth,email:e.body.user.baseinfo.email,name:e.body.user.baseinfo.name,nation:e.body.user.baseinfo.nation,origin:e.body.user.baseinfo.origin,politicalStatus:e.body.user.baseinfo.politicalStatus,qq:e.body.user.baseinfo.qq,schoolID:e.body.user.baseinfo.schoolID,sex:e.body.user.baseinfo.sex,telnumber:e.body.user.baseinfo.telnumber,
telshort:e.body.user.baseinfo.telshort,major:e.body.user.baseinfo.major,grade:e.body.user.baseinfo.grade,img:e.body.user.baseinfo.img}),console.log(this.state.data));break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)});Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:"photo",uptoken_url:"/uptoken",domain:"http://files.zju-welcome.com/",get_new_uptoken:!1,max_file_size:"10mb",flash_swf_url:"js/plupload/Moxie.swf",max_retries:3,dragdrop:!0,chunk_size:"4mb",auto_start:!0,unique_names:!0,init:{BeforeUpload:function(e,t){$("#loading").fadeIn(),$(document).on("click","#cancel",function(){this.stop(),$("#loading").fadeOut(),$(document).off("click","#cancel")}.bind(this))},UploadProgress:function(e,t){$("#loadingPercentage").text("已上传 "+t.percent+"%"),$("#loadingSpeed").text(t.speed/1e3+"kb/s")},FileUploaded:function(e,t,a){var n=e.getOption("domain"),s=$.parseJSON(a),r=n+s.key;this.setState({img:r}),$("#loading").fadeOut(),$(document).off("click","#cancel")}.bind(this),Error:function(e,t,a){if($("#loading").fadeOut(),$(document).off("click","#cancel"),t.code==-600){var n=e.getOption("max_file_size");alert("上传文件大小不得超过"+n)}else alert("上传出错，请重试\n"+a)}.bind(this)}});$("#dtBox").DateTimePicker({mode:"date",dateFormat:"yyyy-MM-dd",afterHide:function(e){var t=$(e).val();this.setState({birth:t})}.bind(this)})},submitHandler:function(){$.ajax({url:"user/profile",contentType:"application/json",type:"POST",data:JSON.stringify({address:this.state.address,birth:this.state.birth,email:this.state.email,name:this.state.name,nation:this.state.nation,origin:this.state.origin,politicalStatus:this.state.politicalStatus,qq:this.state.qq,schoolID:this.state.schoolID,sex:this.state.sex,telnumber:this.state.telnumber,telshort:this.state.telshort,grade:this.state.grade,img:this.state.img}),success:function(e){switch(console.log(e),e.code){case 0:window.location.href="/#/person/info";break;default:alert(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},handleChange:function(e){this.setState(n({},e.target.getAttribute("name"),e.target.value))},crawlerSubmit:function(){var e=this.refs.crawlerUsername.value,t=this.refs.crawlerPassword.value;return e&&t?void $.ajax({url:"/user/syncprofile",contentType:"application/json",type:"POST",data:JSON.stringify({jwbpwd:e,password:t}),success:function(e){switch(e.code){case-1:$("#crawlerErr").show();break;case 0:$("#crawler").hide(),$("#crawlerSuccess").show();break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}):($("#crawlerErr").show(),null)},render:function(){return s.createElement("div",{className:"container-fluid"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12 c4"},s.createElement("div",{className:"container-fluid"},s.createElement("div",{className:"dank-d2"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-8 col-md-offset-1 text-left"},s.createElement("div",{className:"btn-group btn-group-lg d3"},s.createElement("a",{className:"btn dank-a5",onClick:this.submitHandler},s.createElement("b",{className:"b1"},"保存")),s.createElement("a",{className:"btn dank-a6",onClick:function(){$("#crawler").fadeIn()}},s.createElement("b",{className:"b1"},"从教务网导入")),s.createElement("div",{className:"crawler",id:"crawler"},s.createElement("div",{className:"crawler-title"},"请输入教务网账号信息"),s.createElement("div",{className:"crawler-icon",onClick:function(){$("#crawler").fadeOut()}},s.createElement("i",{className:"fa fa-times"})),s.createElement("div",{className:"crawler-error",id:"crawlerErr"},"请输入正确的账号密码"),s.createElement("div",{className:"crawler-form"},s.createElement("div",{className:"crawler-form-group"},s.createElement("label",{className:"crawler-label"},"账号:"),s.createElement("input",{type:"text",ref:"crawlerUsername",className:"crawler-input"})),s.createElement("div",{className:"crawler-form-group"},s.createElement("label",{className:"crawler-label"},"密码:"),s.createElement("input",{type:"password",ref:"crawlerPassword",className:"crawler-input"}))),s.createElement("div",{className:"crawler-button",onClick:this.crawlerSubmit},"提交")),s.createElement("div",{className:"crawler-success",id:"crawlerSuccess"},s.createElement("div",{className:"crawler-success-icon"},s.createElement("i",{className:"fa fa-check fa-2x"})),s.createElement("div",{className:"crawler-success-text"},"导入成功"),s.createElement("div",{className:"crawler-button",onClick:function(){$("#crawlerSuccess").fadeOut(),window.location.href="#/person/info"}},"返回")))),s.createElement("div",{className:"col-md-1 col-md-offset-1 text-right"},s.createElement("img",{src:"static/img/label.png",className:"dank-i1"}))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-9 c4"},s.createElement("div",{className:"container-fluid"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},s.createElement("table",{className:"dank-t1"},s.createElement("tbody",null,s.createElement("tr",null,s.createElement("td",{className:"td-title"},"用户名"),s.createElement("td",{className:"td-content"},this.state.username),s.createElement("td",{className:"td-title"}),s.createElement("td",{className:"td-content"})),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"密码"),s.createElement("td",{className:"td-content"},this.state.password),s.createElement("td",{className:"td-title"}),s.createElement("td",{className:"td-content"})))))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},s.createElement("table",{className:"dank-t1"},s.createElement("tbody",null,s.createElement("tr",null,s.createElement("td",{className:"td-title"},"姓名"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"name",name:"name",className:"dank-input",value:this.state.name?this.state.name:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"性别"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"sex",name:"sex",className:"dank-input",value:this.state.sex?this.state.sex:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"籍贯"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"origin",name:"origin",className:"dank-input",value:this.state.origin?this.state.origin:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"民族"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"nation",name:"nation",className:"dank-input",value:this.state.nation?this.state.nation:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"学号"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"schoolID",name:"schoolID",className:"dank-input",value:this.state.schoolID?this.state.schoolID:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"政治面貌"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"politicalStatus",name:"politicalStatus",className:"dank-input",value:this.state.politicalStatus?this.state.politicalStatus:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"手机长号"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"telnumber",name:"telnumber",className:"dank-input",value:this.state.telnumber?this.state.telnumber:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"手机短号"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"telshort",name:"telshort",className:"dank-input",value:this.state.telshort?this.state.telshort:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"邮箱"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"email",name:"email",className:"dank-input",value:this.state.email?this.state.email:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"QQ"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"qq",name:"qq",className:"dank-input",value:this.state.qq?this.state.qq:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"专业"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"major",name:"major",className:"dank-input",value:this.state.major?this.state.major:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"年级"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"grade",name:"grade",className:"dank-input",value:this.state.grade?this.state.grade:"",onChange:this.handleChange}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"生日"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"birth",name:"birth",className:"dank-input","data-field":"date","data-format":"yyyy-MM-dd",value:this.state.birth?this.state.birth:"",onChange:this.handleChange,readOnly:!0}))),s.createElement("tr",null,s.createElement("td",{className:"td-title"},"寝室地址"),s.createElement("td",{className:"td-content"},s.createElement("input",{type:"text",ref:"address",name:"address",className:"dank-input",value:this.state.address?this.state.address:"",onChange:this.handleChange}))))))))),s.createElement("div",{className:"col-md-3 text-center c4"},s.createElement("div",{className:"container-fluid"},s.createElement("div",{className:"row"},s.createElement("img",{src:this.state.img?this.state.img:"static/img/male.png",className:"i2"})),s.createElement("div",{className:"row"},s.createElement("a",{className:"a7",id:"photo"},s.createElement("b",null,"修改头像"))),s.createElement("div",{id:"loading"},s.createElement("div",{className:"cssload-container"},s.createElement("div",{className:"cssload-shaft1"}),s.createElement("div",{className:"cssload-shaft2"}),s.createElement("div",{className:"cssload-shaft3"}),s.createElement("div",{className:"cssload-shaft4"}),s.createElement("div",{className:"cssload-shaft5"}),s.createElement("div",{className:"cssload-shaft6"}),s.createElement("div",{className:"cssload-shaft7"}),s.createElement("div",{className:"cssload-shaft8"}),s.createElement("div",{className:"cssload-shaft9"}),s.createElement("div",{className:"cssload-shaft10"})),s.createElement("div",{className:"loading-text",id:"loadingPercentage"}),s.createElement("div",{className:"loading-text",id:"loadingSpeed"}),s.createElement("div",{className:"loading-button",id:"cancel"},"取消上传")))),s.createElement("div",{id:"dtBox"})))))))}})},function(e,t){"use strict";e.exports=React.createClass({displayName:"exports",getInitialState:function(){return{month:this.props.month||new Date,highlightDays:this.props.highlightDays.slice()||[],weekDaysOff:this.props.weekDaysOff||[],close:!1}},daySelectionChanged:function(e,t){var a=this.state.highlightDays,n=a.filter(function(t){return t.day.getYear()==e.getYear&&t.day.getMonth()==e.getMonth&&t.day.getDate()==e.getDate()}),s={day:e,notSelectable:!0,selected:t};if(n.length){s=n[0];var r=a.indexOf(s);s.selected=t,a[r]=s}else a.push(s);this.setState({highlightDays:a})},componentWillReceiveProps:function(e){this.state.close&&this.setState({month:e.month||new Date,highlightDays:e.highlightDays.slice()||[],weekDaysOff:e.weekDaysOff||[]})},getDaysOfWeek:function(){for(var e=["Su","Mo","Tu","We","Th","Fr","Sa"],t=[],a=1;a<7;a++)t.push(e[a]);return this.props.sundayFirstDay?t.splice(0,0,e[0]):t.push(e[0]),t.map(function(e,t){return React.createElement("div",{key:e,className:"text-center"},e)})},getEmptyFirstDays:function(e){var t=0===e.getDay()?this.props.sundayFirstDay?0:6:e.getDay()-(this.props.sundayFirstDay?0:1);return Array.apply(0,new Array(t)).map(function(e,t){return React.createElement("div",{key:"emptyFirst"+t,className:"text-center picker-day picker-empty"}," ")})},getEmptyLastDays:function(e){var t=this.props.sundayFirstDay?6:7;return 0!==e.getDay()||this.props.sundayFirstDay?t-=e.getDay():t=0,Array.apply(0,new Array(t)).map(function(e,t){return React.createElement("div",{key:"emptyLast"+t,className:"text-center picker-day picker-empty"}," ")})},getDays:function(e,t){return Array.apply(0,new Array(t.getDate())).map(function(t,n){var s=new Date(e.setDate(e.getDate()+1)),r=this.state.highlightDays.filter(function(e){return e.day.getYear()==s.getYear()&&e.day.getMonth()==s.getMonth()&&e.day.getDate()==s.getDate()});return r=r[0]||{day:s},React.createElement(a,{key:r.day.valueOf(),day:r.day,css:r.css,notSelectable:r.notSelectable||this.state.weekDaysOff.indexOf(s.getDay())>-1,selected:r.selected,title:r.title,dayClick:this.props.dayClick,dayHover:this.props.dayHover,dayClickContext:this.props.callbackContext,daySelectionChanged:this.daySelectionChanged})},this)},goToPreviousMonth:function(){if("function"!=typeof this.props.changeMonth||this.props.changeMonth.call(this.props.callbackContext,new Date(this.props.month),-1)){var e=new Date(this.state.month);e.setMonth(this.state.month.getMonth()-1),this.setState({month:e})}},goToNextMonth:function(){if("function"!=typeof this.props.changeMonth||this.props.changeMonth.call(this.props.callbackContext,new Date(this.props.month),1)){var e=new Date(this.state.month);e.setMonth(this.state.month.getMonth()+1),this.setState({month:e})}},closePicker:function(){this.setState({close:!0}),this.props.closePicker()},render:function(){var e=new Date(this.state.month);e.setDate(0);var t=new Date(this.state.month);t.setDate(1);var a=new Date(1900+t.getYear(),t.getMonth()+1);a.setDate(0);var n=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"];return React.createElement("div",{className:"multiple-date-picker"},React.createElement("i",{className:"fa fa-close",onClick:this.closePicker}),React.createElement("div",{className:"picker-top-row"},React.createElement("div",{className:"text-center picker-navigate picker-navigate-left-arrow",onClick:this.goToPreviousMonth},"<"),React.createElement("div",{className:"text-center picker-month"},1900+this.state.month.getYear()+" "+n[this.state.month.getMonth()]),React.createElement("div",{className:"text-center picker-navigate picker-navigate-right-arrow",onClick:this.goToNextMonth},">")),React.createElement("div",{className:"picker-days-week-row"},this.getDaysOfWeek()),React.createElement("div",{className:"picker-days-row"},this.getEmptyFirstDays(t),this.getDays(e,a),this.getEmptyLastDays(a)))}});var a=React.createClass({displayName:"MultipleDatePickerDay",componentWillMount:function(){this.setState({selected:this.props.selected||!1})},handleClick:function(){if(!this.props.notSelectable&&("function"!=typeof this.props.dayClick||this.props.dayClick.call(this.props.dayClickContext,new Date(this.props.day),this.state.selected))){var e=!this.state.selected;this.setState({selected:e}),this.props.daySelectionChanged(this.props.day,e)}},handleHover:function(){"function"==typeof this.props.dayHover&&this.props.dayHover.call(this.props.callbackContext,new Date(this.props.day),this.state.selected)},render:function(){var e="text-center picker-day",t=new Date;t.setHours(0),t.setMinutes(0),t.setMilliseconds(0);var a=new Date(this.props.day);return a.setHours(0),a.setMinutes(0),a.setMilliseconds(0),e+=this.state.selected?" picker-selected":"",e+=a-t==0?" today":"",e+=a-t<0?" past":"",e+=a-t>0?" future":"",e+=this.props.notSelectable?" picker-off":"",e+=" "+(this.props.css||""),React.createElement("div",{className:e,title:this.props.title,onClick:this.handleClick,onMouseEnter:this.handleHover},this.props.day.getDate())}})},function(e,t,a){"use strict";var n=a(1);n.Component;e.exports=n.createClass({displayName:"exports",getInitialState:function(){return{name:""}},componentDidMount:function(){$.ajax({url:"/org/session",contentType:"application/json",type:"GET",success:function(e){e.body.org?this.setState({name:e.body.org.name}):window.location.href="#/orgsign/in"}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败"),alert(data.msg)}.bind(this)})},logout:function(){$.ajax({url:"/org/logout",contentType:"application/json",type:"GET",success:function(e){window.location.href="/#/orgsign/in"}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){var e={"float":"left"},t={"float":"left",marginTop:"0.73rem"},a={marginLeft:"2.92rem",marginRight:"2.92rem",verticalAlign:"middle"},s={fontFamily:"BenderSolid",fontSize:"2.62rem",color:"#ffffff",background:"#f57a6c",width:"15.695rem",height:"4.38rem",lineHeight:"4.38rem",display:"inline-block",textAlign:"center"},r={"float":"right",lineHeight:"4.38rem"},l={marginLeft:"2.92rem",marginRight:"4.92rem"};return n.createElement("div",{className:"dank-header"},n.createElement("div",{style:e},n.createElement("big",{style:s},"WELCOME")),n.createElement("div",{style:t},n.createElement("a",{className:"dank-button-header",style:a,href:"/"},"首页")),n.createElement("div",{style:r},n.createElement("small",{className:"dank-small",onClick:null,style:l},"辛苦了，",this.state.name),n.createElement("a",{className:"dank-a",onClick:this.logout,style:l},"注销")))}})},function(e,t,a){"use strict";var n=a(1);n.Component;e.exports=n.createClass({displayName:"exports",render:function(){var e={paddingTop:"3.65rem"},t={margin:"0 auto 2.482rem auto",width:"30.222rem",height:"4.38rem",textAlign:"center"},a={margin:"0 4.015rem 0 3.212rem",borderRadius:"0.584rem",width:"7.884rem",height:"4.38rem",lineHeight:"4.38rem",fontSize:"2.19rem"},r={margin:"0 3.212rem 0 4.015rem",borderRadius:"0.584rem",width:"7.884rem",height:"4.38rem",lineHeight:"4.38rem",fontSize:"2.19rem"};return n.createElement("div",{style:e},n.createElement("div",{style:t,className:"center-block"},n.createElement("a",{href:"#/orgsign/in",style:a,className:"dank-tag-chosen"},"登陆"),n.createElement("a",{href:"#/orgsign/up",style:r,className:"dank-tag-free"},"注册")),n.createElement(s,null))}});var s=n.createClass({displayName:"FormBox",usernameCheck:function(){var e=this.refs.username,t=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;return e.value?t.test(e.value)?(e.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-display",this.refs.usernameErr3.className="err-hidden",!1):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-display",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!1)},passwordCheck:function(){var e=this.refs.password;return e.value?(e.parentNode.className="dank-form-group",this.refs.passwordErr1.className="err-hidden",this.refs.passwordErr2.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.passwordErr1.className="err-display",this.refs.passwordErr2.className="err-hidden",!1)},handleSubmit:function(){var e=this.usernameCheck,t=this.passwordCheck;e&&t&&$.ajax({url:"/org/login",contentType:"application/json",type:"POST",data:JSON.stringify({username:this.refs.username.value,password:this.refs.password.value}),success:function(e){switch(console.log(e),e.code){case-2:var t=this.refs.username;t.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-display";break;case-3:var t=this.refs.password;t.parentNode.className="dank-form-group",this.refs.passwordErr1.className="err-hidden",this.refs.passwordErr2.className="err-display";break;case 0:window.location.href="#/back";break;default:alert(msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){var e={width:"30.222rem",height:"30.66rem",padding:"2.92rem"},t={marginTop:"4.38rem"};return n.createElement("div",{id:"orgSignin",className:"dank-box-2 center-block",style:e},n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"username"},"账号"),n.createElement("small",{className:"err-hidden",ref:"usernameErr1"},"请输入用户名"),n.createElement("small",{className:"err-hidden",ref:"usernameErr2"},"请输入正确的邮箱"),n.createElement("small",{className:"err-hidden",ref:"usernameErr3"},"用户名不存在"),n.createElement("input",{type:"text",placeholder:"请输入邮箱地址",ref:"username",onBlur:this.usernameCheck})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"password"},"密码"),n.createElement("small",{className:"err-hidden",ref:"passwordErr1"},"请输入密码"),n.createElement("small",{className:"err-hidden",ref:"passwordErr2"},"用户名或密码有误"),n.createElement("input",{type:"password",placeholder:"请输入密码",ref:"password",onBlur:this.passwordCheck})),n.createElement("div",{onClick:this.handleSubmit,className:"dank-button",style:t},"登陆"))}})},function(e,t,a){"use strict";var n=a(1);n.Component;e.exports=n.createClass({displayName:"exports",render:function(){return n.createElement(s,null)}});var s=n.createClass({displayName:"Signupbox",getInitialState:function(){return{step:1,name:"",tel:"",bossname:"",username:"",password:"",passwordConfirm:""}},stepChange:function(e){this.setState({step:e})},render:function(){var e={paddingTop:"3.65rem"},t={margin:"0 auto 2.482rem auto",width:"30.222rem",height:"4.38rem",textAlign:"center"},a={margin:"0 4.015rem 0 3.212rem",borderRadius:"0.584rem",width:"7.884rem",height:"4.38rem",lineHeight:"4.38rem",fontSize:"2.19rem"},s={margin:"0 3.212rem 0 4.015rem",borderRadius:"0.584rem",width:"7.884rem",height:"4.38rem",lineHeight:"4.38rem",fontSize:"2.19rem"};return n.createElement("div",{style:e},n.createElement("div",{style:t,className:"center-block"},n.createElement("a",{href:"#/orgsign/in",style:a,className:"dank-tag-free"},"登陆"),n.createElement("a",{href:"#/orgsign/up",style:s,className:"dank-tag-chosen"},"注册")),1==this.state.step?n.createElement(r,{stepChange:this.stepChange,data:this.state,dataChange:function(e){this.setState(e)}.bind(this)}):n.createElement(l,{stepChange:this.stepChange,data:this.state,dataChange:function(e){this.setState(e)}.bind(this)}))}}),r=n.createClass({displayName:"FormBox1",nameCheck:function(){var e=this.refs.name;return e.value?(e.parentNode.className="dank-form-group",this.refs.nameErr1.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.nameErr1.className="err-display",!1)},bossnameCheck:function(){var e=this.refs.bossname;return e.value?(e.parentNode.className="dank-form-group",this.refs.bossnameErr1.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.bossnameErr1.className="err-display",!1)},telCheck:function(){var e=this.refs.tel,t=/^\d{11,}$/;return e.value?t.test(e.value)?(e.parentNode.className="dank-form-group",this.refs.telErr1.className="err-hidden",this.refs.telErr2.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.telErr1.className="err-hidden",this.refs.telErr2.className="err-display",!1):(e.parentNode.className="dank-form-group-err",this.refs.telErr1.className="err-display",this.refs.telErr2.className="err-hidden",!1)},next:function(){var e=this.nameCheck(),t=this.bossnameCheck(),a=this.telCheck();e&&t&&a&&(this.props.dataChange({name:this.refs.name.value,tel:this.refs.tel.value,bossname:this.refs.tel.value}),this.props.stepChange(2))},render:function(){var e={width:"30.222rem",height:"32.66rem",padding:"2.92rem"},t={marginTop:"0"};return n.createElement("div",{id:"signup",className:"dank-box-2 center-block",style:e},n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"name"},"社团名称"),n.createElement("small",{className:"err-hidden",ref:"nameErr1"},"社团名称不能为空"),n.createElement("input",{type:"text",name:"name",placeholder:"请输入社团名称",ref:"name",onBlur:this.nameCheck,defaultValue:this.props.data.name})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"bossname"},"负责人姓名"),n.createElement("small",{className:"err-hidden",ref:"bossnameErr1"},"负责人不能为空"),n.createElement("input",{type:"text",name:"bossname",placeholder:"请输入负责人姓名",ref:"bossname",onBlur:this.bossnameCheck,defaultValue:this.props.data.bossname})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"tel"},"联系方式"),n.createElement("small",{className:"err-hidden",ref:"telErr1"},"联系方式不能为空"),n.createElement("small",{className:"err-hidden",ref:"telErr2"},"请输入正确的手机号"),n.createElement("input",{type:"text",name:"tel",placeholder:"请输入手机号",ref:"tel",onBlur:this.telCheck,defaultValue:this.props.data.tel})),n.createElement("div",{className:"dank-button",style:t,onClick:this.next},"下一步"))}}),l=n.createClass({displayName:"FormBox2",usernameCheck:function(){var e=this.refs.username,t=/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/;return e.value?t.test(e.value)?(e.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-display",this.refs.usernameErr3.className="err-hidden",!1):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-display",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!1)},passwordCheck:function(){var e=this.refs.password;return e.value?(e.parentNode.className="dank-form-group",this.refs.passwordErr1.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.passwordErr1.className="err-display",!1)},passwordConfirmCheck:function(){var e=this.refs.passwordConfirm;return e.value?e.value!=this.refs.password.value?(e.parentNode.className="dank-form-group-err",this.refs.passwordConfirmErr1.className="err-hidden",this.refs.passwordConfirmErr2.className="err-display",!1):(e.parentNode.className="dank-form-group",this.refs.passwordConfirmErr1.className="err-hidden",this.refs.passwordConfirmErr2.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.passwordConfirmErr1.className="err-display",this.refs.passwordConfirmErr2.className="err-hidden",!1)},last:function(){this.props.stepChange(1),this.props.dataChange({username:this.refs.username.value,password:this.refs.password.value,passwordConfirm:this.refs.passwordConfirm.value})},handleSubmit:function(){var e=this.usernameCheck(),t=this.passwordCheck(),a=this.passwordConfirmCheck();e&&t&&a&&$.ajax({url:"/org/signup",contentType:"application/json",type:"POST",data:JSON.stringify({username:this.refs.username.value,tel:this.props.data.tel,name:this.props.data.name,bossname:this.props.data.bossname,password:this.refs.password.value}),success:function(e){switch(console.log(e),e.code){case-4:var t=this.refs.username;t.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-display";break;case 0:window.location.href="/#/back";break;default:alert(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){var e={width:"30.222rem",height:"30.66rem",padding:"2.92rem",paddingTop:"1.46rem"},t={marginTop:"0",display:"inline-block",marginLeft:"0.365rem",marginRight:"0.365rem"};return n.createElement("div",{id:"signup",className:"dank-box-2 center-block",style:e},n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"username"},"账号"),n.createElement("small",{className:"err-hidden",ref:"usernameErr1"},"用户名不能为空"),n.createElement("small",{className:"err-hidden",ref:"usernameErr2"},"请输入正确的邮箱"),n.createElement("small",{className:"err-hidden",ref:"usernameErr3"},"用户名已存在"),n.createElement("input",{type:"text",name:"username",placeholder:"请输入邮箱",ref:"username",onBlur:this.usernameCheck,defaultValue:this.props.data.username})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"password"},"密码"),n.createElement("small",{className:"err-hidden",ref:"passwordErr1"},"密码不能为空"),n.createElement("input",{type:"password",name:"password",placeholder:"请输入密码",ref:"password",onBlur:this.passwordCheck,defaultValue:this.props.data.password})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"password"},"重复密码"),n.createElement("small",{className:"err-hidden",ref:"passwordConfirmErr1"},"请再次输入密码"),n.createElement("small",{className:"err-hidden",ref:"passwordConfirmErr2"},"密码不一致"),n.createElement("input",{type:"password",placeholder:"请再次输入密码",ref:"passwordConfirm",onBlur:this.passwordConfirmCheck,defaultValue:this.props.data.passwordConfirm})),n.createElement("div",{className:"block-center text-center"},n.createElement("div",{className:"dank-button",style:t,onClick:this.last},"上一步"),n.createElement("div",{className:"dank-button",style:t,onClick:this.handleSubmit},"注册")))}})},function(e,t,a){"use strict";var n=a(1);n.Component;e.exports=n.createClass({displayName:"exports",render:function(){var e={paddingTop:"3.65rem"},t={margin:"0 auto 2.482rem auto",width:"30.222rem",height:"4.38rem",textAlign:"center"},a={margin:"0 4.015rem 0 3.212rem",borderRadius:"0.584rem",width:"7.884rem",height:"4.38rem",lineHeight:"4.38rem",fontSize:"2.19rem"},r={margin:"0 3.212rem 0 4.015rem",borderRadius:"0.584rem",width:"7.884rem",height:"4.38rem",lineHeight:"4.38rem",fontSize:"2.19rem"};return n.createElement("div",{style:e},n.createElement("div",{style:t,className:"center-block"},n.createElement("a",{href:"#/sign/in",style:a,className:"dank-tag-chosen"},"登陆"),n.createElement("a",{href:"#/sign/up",style:r,className:"dank-tag-free"},"注册")),n.createElement(s,null))}});var s=n.createClass({displayName:"FormBox",usernameCheck:function(){var e=this.refs.username,t=/^\d{11,}$/;return e.value?t.test(e.value)?(e.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-display",this.refs.usernameErr3.className="err-hidden",!1):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-display",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!1)},passwordCheck:function(){var e=this.refs.password;return e.value?(e.parentNode.className="dank-form-group",this.refs.passwordErr1.className="err-hidden",this.refs.passwordErr2.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.passwordErr1.className="err-display",this.refs.passwordErr2.className="err-hidden",!1)},handleSubmit:function(){var e=this.usernameCheck(),t=this.passwordCheck();e&&t&&$.ajax({url:"user/login",contentType:"application/json",type:"POST",data:JSON.stringify({username:this.refs.username.value,password:this.refs.password.value}),success:function(e){switch(console.log(e),e.code){case-1:alert("数据库错误");break;case-2:var t=this.refs.username;t.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-display";break;case-3:var t=this.refs.password;t.parentNode.className="dank-form-group",this.refs.passwordErr1.className="err-hidden",this.refs.passwordErr2.className="err-display";break;case 0:document.body.clientWidth>800?window.location.href="/#/person/info":history.back();
break;default:alert("未知错误")}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){var e={width:"30.222rem",height:"30.66rem",padding:"2.92rem"},t={marginTop:"4.38rem"};return n.createElement("div",{id:"signin",className:"dank-box-2 center-block",style:e},n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"username"},"账号"),n.createElement("small",{className:"err-hidden",ref:"usernameErr1"},"请输入用户名"),n.createElement("small",{className:"err-hidden",ref:"usernameErr2"},"请输入正确的手机号"),n.createElement("small",{className:"err-hidden",ref:"usernameErr3"},"用户名不存在"),n.createElement("input",{type:"text",placeholder:"用户名 - 手机号",ref:"username",onBlur:this.usernameCheck})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"password"},"密码"),n.createElement("small",{className:"err-hidden",ref:"passwordErr1"},"请输入密码"),n.createElement("small",{className:"err-hidden",ref:"passwordErr2"},"密码错误"),n.createElement("input",{type:"password",placeholder:"密码 - 默认学号",ref:"password",onBlur:this.passwordCheck})),n.createElement("div",{onClick:this.handleSubmit,className:"dank-button",style:t},"登陆"))}})},function(e,t,a){"use strict";var n=a(1);n.Component;e.exports=n.createClass({displayName:"exports",render:function(){var e={paddingTop:"3.65rem"},t={margin:"0 auto 2.482rem auto",width:"30.222rem",height:"4.38rem",textAlign:"center"},a={margin:"0 4.015rem 0 3.212rem",borderRadius:"0.584rem",width:"7.884rem",height:"4.38rem",lineHeight:"4.38rem",fontSize:"2.19rem"},r={margin:"0 3.212rem 0 4.015rem",borderRadius:"0.584rem",width:"7.884rem",height:"4.38rem",lineHeight:"4.38rem",fontSize:"2.19rem"};return n.createElement("div",{style:e},n.createElement("div",{style:t,className:"center-block"},n.createElement("a",{href:"#/sign/in",style:a,className:"dank-tag-free"},"登陆"),n.createElement("a",{href:"#/sign/up",style:r,className:"dank-tag-chosen"},"注册")),n.createElement(s,null))}});var s=n.createClass({displayName:"FormBox",usernameCheck:function(){var e=this.refs.username,t=/^\d{11,}$/;return e.value?t.test(e.value)?(e.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-display",this.refs.usernameErr3.className="err-hidden",!1):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-display",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!1)},passwordCheck:function(){var e=this.refs.password;return e.value?(e.parentNode.className="dank-form-group",this.refs.passwordErr1.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.passwordErr1.className="err-display",!1)},passwordConfirmCheck:function(){var e=this.refs.passwordConfirm;return e.value?e.value!=this.refs.password.value?(e.parentNode.className="dank-form-group-err",this.refs.passwordConfirmErr1.className="err-hidden",this.refs.passwordConfirmErr2.className="err-display",!1):(e.parentNode.className="dank-form-group",this.refs.passwordConfirmErr1.className="err-hidden",this.refs.passwordConfirmErr2.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.passwordConfirmErr1.className="err-display",this.refs.passwordConfirmErr2.className="err-hidden",!1)},handleSubmit:function(){var e=this.usernameCheck(),t=this.passwordCheck(),a=this.passwordConfirmCheck();e&&t&&a&&$.ajax({url:"user/signup",contentType:"application/json",type:"POST",data:JSON.stringify({username:this.refs.username.value,password:this.refs.password.value}),success:function(e){switch(console.log(e),e.code){case-4:var t=this.refs.username;t.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-display";break;case 0:window.location.href="/#/person/info";break;default:alert(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){var e={width:"30.222rem",height:"34rem",padding:"2.92rem",paddingTop:"1.46rem"},t={marginTop:"4.38rem"};return n.createElement("div",{id:"signup",className:"dank-box-2 center-block",style:e},n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"username"},"账号"),n.createElement("small",{className:"err-hidden",ref:"usernameErr1"},"用户名不能为空"),n.createElement("small",{className:"err-hidden",ref:"usernameErr2"},"请输入正确的手机号"),n.createElement("small",{className:"err-hidden",ref:"usernameErr3"},"用户名已存在"),n.createElement("input",{type:"text",name:"username",placeholder:"请输入手机号",ref:"username",onBlur:this.usernameCheck})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"password"},"密码"),n.createElement("small",{className:"err-hidden",ref:"passwordErr1"},"密码不能为空"),n.createElement("input",{type:"password",name:"password",placeholder:"请输入密码",ref:"password",onBlur:this.passwordCheck})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"password"},"重复密码"),n.createElement("small",{className:"err-hidden",ref:"passwordConfirmErr1"},"请再次输入密码"),n.createElement("small",{className:"err-hidden",ref:"passwordConfirmErr2"},"密码不一致"),n.createElement("input",{type:"password",placeholder:"请再次输入密码",ref:"passwordConfirm",onBlur:this.passwordConfirmCheck})),n.createElement("div",{onClick:this.handleSubmit,className:"dank-button",style:t},"注册"))}})},function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=a(1),r=(s.Component,a(4));e.exports=s.createClass({displayName:"exports",render:function(){var e={background:"#EFEFEF",height:"100%",padding:0};return s.createElement("div",{style:e},s.createElement(r,null),s.createElement(l,{eventID:this.props.params.id}))}});var l=s.createClass({displayName:"Content",getInitialState:function(){return{page:1,event:{},pagesState:[!0,!1,!1,!1],pagesNumber:[1,2,3,4],totalPage:4,eventID:"",writetime:"",browserinfo:"",baseinfo:{name:"",sex:"男",origin:"",nation:"",schoolID:"",politicalStatus:"",telnumber:"",telshort:"",email:"",qq:"",major:"",birth:"",address:"",img:"",grade:""},skills:{"delete":"",title:"",chosen:[""]},introduction:{"delete":"",title:"",content:""},wish:{"delete":"",title:"",chosen:[""]},reason:[],others:[],remark:""}},otherComponentInitialize:function(e){for(var t=this.state.others,a=0;a<e.others.length;a++){var n,s=e.others[a];switch(s.type){case"single-text":n={type:s.type,title:s.title,content:""};break;case"multi-text":n={type:s.type,title:s.title,content:""};break;case"multi-choose":n={type:s.type,title:s.title,chosen:[""]};break;case"single-choose":n={type:s.type,title:s.title,chosen:""};break;case"file":n={type:s.type,title:s.title,url:""};break;case"image":n={type:s.type,title:s.title,url:""};break;default:n={}}t.push(n)}this.setState({others:t})},componentDidMount:function(){$(document).width()<800&&(window.location.href="#/mobile/form/"+this.props.eventID),$.ajax({url:"/form/id",contentType:"application/json",type:"GET",data:{eventID:this.props.eventID},success:function(e){switch(console.log(e),e.code){case 0:if(this.isMounted()){this.setState({event:e.body.event});var t=[];t[0]=!0,t[1]=!(e.body.event.formschema.skills["delete"]&&e.body.event.formschema.introduction["delete"]),t[2]=!e.body.event.formschema.wish["delete"],t[3]=!!e.body.event.formschema.others,this.setState({pagesState:t});var a,n=0,s=[];for(a=0;a<4;a++)s[a]=t[a]?++n:0;this.setState({totalPage:a}),this.setState({pagesNumber:s}),this.setState({eventID:e.body.event.eventID}),this.setState({remark:e.body.event.formschema.remark}),this.otherComponentInitialize(e.body.event.formschema)}break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)}),$.ajax({url:"/user/profile",contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:if(this.isMounted()){var t={username:e.body.user.username,address:e.body.user.baseinfo.address,birth:e.body.user.baseinfo.birth,email:e.body.user.baseinfo.email,name:e.body.user.baseinfo.name,nation:e.body.user.baseinfo.nation,origin:e.body.user.baseinfo.origin,politicalStatus:e.body.user.baseinfo.politicalStatus,qq:e.body.user.baseinfo.qq,schoolID:e.body.user.baseinfo.schoolID,sex:e.body.user.baseinfo.sex,telnumber:e.body.user.baseinfo.telnumber,telshort:e.body.user.baseinfo.telshort,major:e.body.user.baseinfo.major,img:e.body.user.baseinfo.img,grade:e.body.user.baseinfo.grade};this.setState({baseinfo:t})}break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},dataRecall:function(e,t,a){this.setState(n({},e,t),a)},nextPage:function d(){var d=this.state.page%this.state.totalPage+1;this.setState({page:d})},lastPage:function h(){var h=(this.state.totalPage+this.state.page-2)%this.state.totalPage+1;this.setState({page:h})},submit:function u(){var u=function(){return""==this.state.baseinfo.schoolID?(alert("学号不能为空"),null):""==this.state.baseinfo.telnumber?(alert("手机长号不能为空"),null):void $.ajax({url:"form/submit",contentType:"application/json",type:"POST",data:JSON.stringify({eventID:this.state.eventID,writetime:this.state.writetime,browserinfo:this.state.browserinfo,baseinfo:this.state.baseinfo,skills:this.state.skills,introduction:this.state.introduction,wish:this.state.wish,reason:this.state.reason,others:this.state.others,remark:this.state.remark}),success:function(e){switch(console.log(e),e.code){case 0:alert("报名表提交成功~"),window.location.href="/#/person/info";break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})}.bind(this);this.refs.baseinfo&&this.refs.baseinfo.componentForceUnmount(u),this.refs.person&&this.refs.person.componentForceUnmount(u),this.refs.wish&&this.refs.wish.componentForceUnmount(u),this.refs.others&&this.refs.others.componentForceUnmount(u)},render:function(){var e={top:"4.38rem",bottom:"0",left:"0",right:"0",position:"fixed",overflow:"auto",background:"#f77968"},t={marginTop:"8.03rem"},a={width:"73rem"},n={textAlign:"center",fontSize:"2.19rem",color:"#ffffff",marginTop:"2.044rem",marginBottom:"2.044rem"},r={"float":"right",marginTop:"11.68rem"};return s.createElement("div",{style:e},s.createElement("div",{className:"container-fluid"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},this.state.event?s.createElement("big",{style:n,className:"center-block"},this.state.event.name):null)),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},s.createElement("div",{className:"center-block",style:a},s.createElement("div",{className:"dank-time-line"},s.createElement("big",{className:1==this.state.page?"dank-time-node-active":"dank-time-node",onClick:function(){this.setState({page:this.state.pagesNumber[0]})}.bind(this)},this.state.pagesNumber[0]),this.state.pagesState[1]?s.createElement("big",{className:this.state.page==this.state.pagesNumber[1]?"dank-time-node-active":"dank-time-node",style:t,onClick:function(){this.setState({page:this.state.pagesNumber[1]})}.bind(this)},this.state.pagesNumber[1]):null,this.state.pagesState[2]?s.createElement("big",{className:this.state.page==this.state.pagesNumber[2]?"dank-time-node-active":"dank-time-node",style:t,onClick:function(){this.setState({page:this.state.pagesNumber[2]})}.bind(this)},this.state.pagesNumber[2]):null,this.state.pagesState[3]?s.createElement("big",{className:this.state.page==this.state.pagesNumber[3]?"dank-time-node-active":"dank-time-node",style:t,onClick:function(){this.setState({page:this.state.pagesNumber[3]})}.bind(this)},this.state.pagesNumber[3]):null),this.state.page==this.state.pagesNumber[0]&&this.state.pagesState[0]?s.createElement(i,{ref:"baseinfo",data:this.state.baseinfo,dataRecall:this.dataRecall}):null,this.state.page==this.state.pagesNumber[1]&&this.state.pagesState[1]?s.createElement(c,{ref:"person",introduction:this.state.introduction,skills:this.state.skills,schema:this.state.event.formschema,dataRecall:this.dataRecall}):null,this.state.page==this.state.pagesNumber[2]&&this.state.pagesState[2]?s.createElement(o,{ref:"wish",wish:this.state.wish,reason:this.state.reason,schema:this.state.event.formschema,dataRecall:this.dataRecall}):null,this.state.page==this.state.pagesNumber[3]&&this.state.pagesState[3]?s.createElement(m,{ref:"others",others:this.state.others,schema:this.state.event.formschema,dataRecall:this.dataRecall}):null,s.createElement("div",{style:r},s.createElement("a",{className:"dank-button-2",onClick:this.lastPage},"上一页"),s.createElement("a",{className:"dank-button-2",onClick:this.nextPage},"下一页"),s.createElement("a",{className:"dank-button-2",onClick:this.submit},"提交")))))),s.createElement("div",{id:"loading"},s.createElement("div",{className:"cssload-container"},s.createElement("div",{className:"cssload-shaft1"}),s.createElement("div",{className:"cssload-shaft2"}),s.createElement("div",{className:"cssload-shaft3"}),s.createElement("div",{className:"cssload-shaft4"}),s.createElement("div",{className:"cssload-shaft5"}),s.createElement("div",{className:"cssload-shaft6"}),s.createElement("div",{className:"cssload-shaft7"}),s.createElement("div",{className:"cssload-shaft8"}),s.createElement("div",{className:"cssload-shaft9"}),s.createElement("div",{className:"cssload-shaft10"})),s.createElement("div",{className:"loading-text",id:"loadingPercentage"}),s.createElement("div",{className:"loading-text",id:"loadingSpeed"}),s.createElement("div",{className:"loading-button",id:"cancel"},"取消上传")))}}),i=s.createClass({displayName:"Baseinfo",getInitialState:function(){return{name:this.props.data.name,sex:this.props.data.sex,origin:this.props.data.origin,nation:this.props.data.nation,schoolID:this.props.data.schoolID,politicalStatus:this.props.data.politicalStatus,telnumber:this.props.data.telnumber,telshort:this.props.data.telshort,email:this.props.data.email,qq:this.props.data.qq,major:this.props.data.major,birth:this.props.data.birth,address:this.props.data.address,img:this.props.data.img,grade:this.props.data.grade}},componentDidMount:function(){window.iCheck(),$("input[type='radio']").on("ifChecked",function(e){this.handleChange(e)}.bind(this));Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:"photo",uptoken_url:"/uptoken",domain:"http://files.zju-welcome.com/",get_new_uptoken:!1,max_file_size:"10mb",flash_swf_url:"js/plupload/Moxie.swf",max_retries:3,dragdrop:!0,chunk_size:"4mb",auto_start:!0,unique_names:!0,init:{BeforeUpload:function(e,t){$("#loading").fadeIn(),$(document).on("click","#cancel",function(){this.stop(),$("#loading").fadeOut(),$(document).off("click","#cancel")}.bind(this))},UploadProgress:function(e,t){$("#loadingPercentage").text("已上传 "+t.percent+"%"),$("#loadingSpeed").text(t.speed/1e3+"kb/s")},FileUploaded:function(e,t,a){var n=e.getOption("domain"),s=$.parseJSON(a),r=n+s.key;this.setState({img:r}),$("#loading").fadeOut(),$(document).off("click","#cancel")}.bind(this),Error:function(e,t,a){if($("#loading").fadeOut(),$(document).off("click","#cancel"),t.code==-600){var n=e.getOption("max_file_size");alert("上传文件大小不得超过"+n)}else alert("上传出错，请重试\n"+a)}.bind(this)}});$("#dtBox").DateTimePicker({mode:"date",dateFormat:"yyyy-MM-dd",afterHide:function(e){var t=$(e).val();this.setState({birth:t})}.bind(this)})},componentWillReceiveProps:function(e){this.setState({name:e.data.name,sex:e.data.sex,origin:e.data.origin,nation:e.data.nation,schoolID:e.data.schoolID,politicalStatus:e.data.politicalStatus,telnumber:e.data.telnumber,telshort:e.data.telshort,email:e.data.email,qq:e.data.qq,major:e.data.major,birth:e.data.birth,address:e.data.address,img:e.data.img,grade:e.data.grade})},handleChange:function(e){this.setState(n({},e.target.getAttribute("name"),e.target.value))},componentWillUnmount:function(){var e={name:this.state.name,sex:this.state.sex,origin:this.state.origin,nation:this.state.nation,schoolID:this.state.schoolID,politicalStatus:this.state.politicalStatus,telnumber:this.state.telnumber,telshort:this.state.telshort,email:this.state.email,qq:this.state.qq,major:this.state.major,birth:this.state.birth,address:this.state.address,img:this.state.img,grade:this.state.grade};this.props.dataRecall("baseinfo",e)},componentForceUnmount:function(e){var t={name:this.state.name,sex:this.state.sex,origin:this.state.origin,nation:this.state.nation,schoolID:this.state.schoolID,politicalStatus:this.state.politicalStatus,telnumber:this.state.telnumber,telshort:this.state.telshort,email:this.state.email,qq:this.state.qq,major:this.state.major,birth:this.state.birth,address:this.state.address,img:this.state.img,grade:this.state.grade};this.props.dataRecall("baseinfo",t,e)},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"55.334rem",height:"45.114rem",marginLeft:"2.19rem",marginBottom:"2.19rem"},t={display:"block",textAlign:"center",fontSize:"2.19rem",color:"#FFFFFF",margin:"1.46rem",fontWeight:"bold"};return s.createElement("div",{style:e},s.createElement("h1",{style:t},s.createElement("b",null,"个人信息")),s.createElement("div",{className:"d8"},s.createElement("b",null,s.createElement("table",{className:"center-block dank-form-table"},s.createElement("tbody",null,s.createElement("tr",{className:""},s.createElement("td",{className:"form-group"},"姓　　名"),s.createElement("td",null,s.createElement("input",{value:this.state.name,onChange:this.handleChange,name:"name",className:"dank-form-input",type:"text"})),s.createElement("td",null,"性　　别"),s.createElement("td",null,s.createElement("label",{className:"dank-checkbox-inline"},"男"==this.state.sex?s.createElement("input",{type:"radio",name:"sex",value:"男",defaultChecked:!0}):s.createElement("input",{type:"radio",name:"sex",value:"男"}),s.createElement("b",null," 男")),s.createElement("label",{className:"dank-checkbox-inline"},"女"==this.state.sex?s.createElement("input",{type:"radio",name:"sex",value:"女",defaultChecked:!0}):s.createElement("input",{type:"radio",name:"sex",value:"女"}),s.createElement("b",null," 女")))),s.createElement("tr",{className:""},s.createElement("td",null,"籍　　贯"),s.createElement("td",null,s.createElement("input",{value:this.state.origin,onChange:this.handleChange,name:"origin",className:"dank-form-input",type:"text"})),s.createElement("td",null,"民　　族"),s.createElement("td",null,s.createElement("input",{value:this.state.nation,onChange:this.handleChange,name:"nation",className:"dank-form-input",type:"text"}))),s.createElement("tr",{className:""},s.createElement("td",null,"学　　号"),s.createElement("td",null,s.createElement("input",{value:this.state.schoolID,onChange:this.handleChange,name:"schoolID",className:"dank-form-input",type:"text"})),s.createElement("td",null,"政治面貌"),s.createElement("td",null,s.createElement("input",{value:this.state.politicalStatus,onChange:this.handleChange,name:"politicalStatus",className:"dank-form-input",type:"text"}))),s.createElement("tr",{className:""},s.createElement("td",null,"手机长号"),s.createElement("td",null,s.createElement("input",{value:this.state.telnumber,onChange:this.handleChange,name:"telnumber",className:"dank-form-input",type:"text"})),s.createElement("td",null,"手机短号"),s.createElement("td",null,s.createElement("input",{value:this.state.telshort,onChange:this.handleChange,name:"telshort",className:"dank-form-input",type:"text"}))),s.createElement("tr",{className:""},s.createElement("td",null,"邮　　箱"),s.createElement("td",null,s.createElement("input",{value:this.state.email,onChange:this.handleChange,name:"email",className:"dank-form-input",type:"text"})),s.createElement("td",null,"ＱＱ号码"),s.createElement("td",null,s.createElement("input",{value:this.state.qq,onChange:this.handleChange,name:"qq",className:"dank-form-input",type:"text"}))),s.createElement("tr",{className:""},s.createElement("td",null,"专业大类"),s.createElement("td",null,s.createElement("input",{value:this.state.major,onChange:this.handleChange,name:"major",className:"dank-form-input",type:"text"})),s.createElement("td",null,"年　　级"),s.createElement("td",null,s.createElement("input",{value:this.state.grade,onChange:this.handleChange,name:"grade",className:"dank-form-input",type:"text"}))),s.createElement("tr",{className:""},s.createElement("td",null,"寝室地址"),s.createElement("td",null,s.createElement("input",{value:this.state.address,onChange:this.handleChange,name:"address",className:"dank-form-input",type:"text"})),s.createElement("td",null,"出生日期"),s.createElement("td",null,s.createElement("input",{value:this.state.birth,"data-field":"date","data-format":"yyyy-MM-dd",name:"birth",className:"dank-form-input",type:"text",readOnly:!0}))))))),s.createElement("div",{className:"d9"},s.createElement("div",{className:"d10"},s.createElement("img",{src:this.state.img?this.state.img:"static/img/photo.png",className:"i6"}),s.createElement("a",{className:"a21",id:"photo"},s.createElement("b",null,"上传照片")))),s.createElement("div",{id:"dtBox"}))}}),c=s.createClass({displayName:"Person",getInitialState:function(){return{skills:{"delete":this.props.schema.skills["delete"],title:this.props.schema.skills.title,chosen:this.props.skills.chosen},introduction:{"delete":this.props.schema.introduction["delete"],title:this.props.schema.introduction.title,content:this.props.introduction.content}}},introHandleChange:function(e){this.setState({introduction:{"delete":this.state.introduction["delete"],title:this.state.introduction.title,content:e.target.value}})},componentDidMount:function(){window.iCheck(),$("input[type='checkbox']").on("ifChecked",function(e){this.checked(e)}.bind(this)),$("input[type='checkbox']").on("ifUnchecked",function(e){this.unchecked(e)}.bind(this))},checked:function(e){var t=this.state.skills.chosen,a=this.props.schema.skills.max;return null!=a&&""!=a&&t.length>a?(setTimeout(function(){$(e.target).iCheck("uncheck")},1),null):(t.push(e.target.value),void this.setState({skills:{"delete":this.state.skills["delete"],title:this.state.skills.title,chosen:t}}))},unchecked:function(e){var t=e.target.value,a=this.state.skills.chosen;return a.indexOf(t)==-1?null:(a.splice(a.indexOf(t),1),void this.setState({skills:{"delete":this.state.skills["delete"],title:this.state.skills.title,chosen:a}}))},otherCheck:function(e){var t=this.state.skills.chosen;t[0]=e.target.value,this.setState({skills:{"delete":this.state.skills["delete"],title:this.state.skills.title,chosen:t}})},componentWillUnmount:function(){var e={"delete":this.state.skills["delete"],title:this.state.skills.title,chosen:this.state.skills.chosen},t={"delete":this.state.introduction["delete"],title:this.state.introduction.title,content:this.state.introduction.content};this.props.dataRecall("skills",e),this.props.dataRecall("introduction",t)},componentForceUnmount:function(e){var t={"delete":this.state.skills["delete"],title:this.state.skills.title,chosen:this.state.skills.chosen},a={"delete":this.state.introduction["delete"],title:this.state.introduction.title,content:this.state.introduction.content};this.props.dataRecall("skills",t,function(){this.props.dataRecall("introduction",a,e)}.bind(this))},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"55.334rem",minHeight:"45.114rem",marginLeft:"2.19rem",marginBottom:"2.19rem"},t=this.props.schema.skills.option.map(function(e){return s.createElement("div",{className:"dank-checkbox-inOneLine",key:e},this.props.skills.chosen.indexOf(e)>0?s.createElement("input",{type:"checkbox",value:e,defaultChecked:!0}):s.createElement("input",{type:"checkbox",value:e}),s.createElement("label",null," ",e," "))}.bind(this));return s.createElement("div",{style:e},s.createElement("h1",{className:"h1a"},s.createElement("b",null,"个人介绍")),this.props.schema.skills["delete"]?null:s.createElement("div",{className:"d24"},s.createElement("div",{className:"text-left d25"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,this.props.schema.skills.title+(this.props.schema.skills.max?"　最多选择"+this.props.schema.skills.max+"项":""))),t,this.props.schema.skills.free?s.createElement("div",{className:"dank-form-group-inline"},s.createElement("label",{className:"dank-label dank-select-label"},"其他"),s.createElement("input",{type:"text",defaultValue:this.props.skills.chosen[0],onBlur:this.otherCheck,className:"dank-form-input dank-select-input"})):null)),this.props.schema.introduction["delete"]?null:s.createElement("div",{className:"d24"},s.createElement("div",{className:"text-left d25"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,this.props.schema.introduction.title)),s.createElement("div",null,s.createElement("b",null,s.createElement("textarea",{name:"introduction.content",value:this.state.introduction.content,onChange:this.introHandleChange,className:"text-left tt1"}))))))}}),o=s.createClass({displayName:"Wish",getInitialState:function(){return{wish:{"delete":this.props.schema.wish["delete"],title:this.props.schema.wish.title,chosen:this.props.wish.chosen},reason:this.props.reason}},reasonChange:function(e){var t=this.state.reason,a=e.target.getAttribute("title");t[a]=e.target.value,this.setState({reason:t})},componentDidMount:function(){window.iCheck(),$("input[type='checkbox']").on("ifChecked",function(e){this.checked(e)}.bind(this)),$("input[type='checkbox']").on("ifUnchecked",function(e){this.unchecked(e)}.bind(this))},checked:function(e){var t=this.state.wish.chosen,a=this.props.schema.wish.max;return null!=a&&""!=a&&t.length>a?(setTimeout(function(){$(e.target).iCheck("uncheck")},1),null):(t.push(e.target.value),void this.setState({wish:{"delete":this.state.wish["delete"],title:this.state.wish.title,chosen:t}}))},unchecked:function(e){var t=e.target.value,a=this.state.wish.chosen;return a.indexOf(t)==-1?null:(a.splice(a.indexOf(t),1),void this.setState({wish:{"delete":this.state.wish["delete"],title:this.state.wish.title,chosen:a}}))},componentWillUnmount:function(){var e={"delete":this.state.wish["delete"],title:this.state.wish.title,chosen:this.state.wish.chosen},t=this.state.reason;this.props.dataRecall("wish",e),this.props.dataRecall("reason",t)},componentForceUnmount:function(e){var t={"delete":this.state.wish["delete"],title:this.state.wish.title,chosen:this.state.wish.chosen},a=this.state.reason;this.props.dataRecall("wish",t,function(){this.props.dataRecall("reason",a,e)}.bind(this))},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"55.334rem",minHeight:"45.114rem",marginLeft:"2.19rem",marginBottom:"2.19rem"},t=this.props.schema.wish.option.map(function(e){return s.createElement("div",{className:"dank-checkbox-inOneLine",key:e},this.props.wish.chosen.indexOf(e)>0?s.createElement("input",{type:"checkbox",value:e,defaultChecked:!0}):s.createElement("input",{type:"checkbox",value:e}),s.createElement("label",null," ",e," "))}.bind(this)),a=this.state.wish.chosen.map(function(e,t){return 0==t?null:s.createElement("div",{className:"d24",key:t},s.createElement("div",{className:"text-left d25"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,"希望进入第",t,"志愿 ",e," 的原因是")),s.createElement("div",null,s.createElement("b",null,s.createElement("textarea",{title:t,value:this.state.reason[t],onChange:this.reasonChange,className:"text-left tt1"})))))}.bind(this));return s.createElement("div",{style:e},s.createElement("h1",{className:"h1a"},s.createElement("b",null,"志愿选择")),this.props.schema.wish["delete"]?null:s.createElement("div",{className:"d24"},s.createElement("div",{className:"text-left d25"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,this.props.schema.wish.title+(this.props.schema.wish.max?"　最多选择"+this.props.schema.wish.max+"项":""))),t)),a)}}),m=s.createClass({displayName:"Others",getInitialState:function(){return{others:this.props.others}},fileInitial:function(){for(var e=this.state.others,t=0;t<e.length;t++){var a=e[t];"file"==a.type&&Qiniu.uploader({index:t,runtimes:"html5,flash,html4",browse_button:"file"+t,uptoken_url:"/uptoken",domain:"http://files.zju-welcome.com/",get_new_uptoken:!1,max_file_size:"100mb",flash_swf_url:"js/plupload/Moxie.swf",max_retries:3,dragdrop:!0,chunk_size:"4mb",auto_start:!0,unique_names:!0,multi_selection:!1,init:{BeforeUpload:function(e,t){$("#loading").fadeIn(),$(document).on("click","#cancel",function(){this.stop(),$("#loading").fadeOut(),$(document).off("click","#cancel")}.bind(this))},UploadProgress:function(e,t){$("#loadingPercentage").text("已上传 "+t.percent+"%"),$("#loadingSpeed").text(t.speed/1e3+"kb/s")},FileUploaded:function(t,a,n){var s=t.getOption("domain"),r=t.getOption("index"),l=$.parseJSON(n);e[r].url=s+l.key,this.setState({others:e});var i=this.refs["file"+r];$(i).text(a.name),$("#loading").fadeOut(),$(document).off("click","#cancel")}.bind(this),Error:function(e,t,a){if($("#loading").fadeOut(),$(document).off("click","#cancel"),t.code==-600){var n=e.getOption("max_file_size");alert("上传文件大小不得超过"+n)}else alert("上传出错，请重试\n"+a)}.bind(this)}})}},componentDidMount:function(){window.iCheck(),$("input[type='checkbox']").on("ifChecked",function(e){this.otherComponentUpdater(e,1)}.bind(this)),$("input[type='checkbox']").on("ifUnchecked",function(e){this.otherComponentUpdater(e,0)}.bind(this)),$("input[type='radio']").on("ifChecked",function(e){this.otherComponentUpdater(e,1)}.bind(this)),this.fileInitial()},otherComponentUpdater:function(e,t){var a,n=e.target,s=n.getAttribute("name"),r=this.state.others,l=r[s];switch(l.type){case"single-text":a={type:l.type,title:l.title,content:n.value};break;case"multi-text":a={type:l.type,title:l.title,content:n.value};break;case"multi-choose":var i=l.chosen;if(1==t){var c=this.props.schema.others[s].max;if(""!=c&&i.length>c)return setTimeout(function(){$(e.target).iCheck("uncheck")},1),null;i.push(n.value)}else 0==t?i.indexOf(n.value)!=-1&&i.splice(i.indexOf(n.value),1):t==-1&&(i[0]=n.value);a={type:l.type,title:l.title,chosen:i};break;case"single-choose":var i=l.chosen;1==t&&(i=n.value),a={type:l.type,title:l.title,chosen:i};break;case"file":a={type:l.type,title:l.title,url:n.value};break;default:a={}}r[s]=a,this.setState({others:r})},componentWillUnmount:function(){this.props.dataRecall("others",this.state.others)},componentForceUnmount:function(e){this.props.dataRecall("others",this.state.others,e)},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"55.334rem",minHeight:"45.114rem",marginLeft:"2.19rem",marginBottom:"2.19rem"},t=this.props.schema.others.map(function(e,t){switch(e.type){case"single-text":return s.createElement("div",{className:"d24",key:t},s.createElement("div",{className:"text-left d25"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,e.title)),s.createElement("div",null,s.createElement("input",{type:"text",name:t,defaultValue:this.state.others[t].content,onChange:function(e){this.otherComponentUpdater(e,null)}.bind(this),className:"dank-form-single-text"}))));case"multi-text":return s.createElement("div",{className:"d24",key:t},s.createElement("div",{className:"text-left d25"},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,e.title)),s.createElement("div",null,s.createElement("textarea",{name:t,defaultValue:this.state.others[t].content,onChange:function(e){this.otherComponentUpdater(e,null)}.bind(this),className:"text-left tt1"}))));case"multi-choose":return s.createElement("div",{className:"text-left d25",key:t},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,e.title+(e.max?"　最多可选"+e.max+"项":""))),e.option.map(function(e){
return e=""+e,s.createElement("div",{className:"dank-checkbox-inOneLine",key:e},this.props.others[t].chosen.indexOf(e)>0?s.createElement("input",{type:"checkbox",name:t,value:e,defaultChecked:!0}):s.createElement("input",{type:"checkbox",name:t,value:e}),s.createElement("label",null," ",e," "))}.bind(this)),e.free?s.createElement("div",{className:"dank-form-group-inline"},s.createElement("label",{className:"dank-label dank-select-label"},"其他"),s.createElement("input",{type:"text",name:t,defaultValue:this.state.others[t].chosen[0],onBlur:function(e){this.otherComponentUpdater(e,-1)}.bind(this),className:"dank-form-input dank-select-input"})):null);case"single-choose":return s.createElement("div",{className:"text-left d25",key:t},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,e.title)),e.option.map(function(e){return e=""+e,s.createElement("div",{className:"dank-radio-inOneLine",key:e},this.props.others[t].chosen==e?s.createElement("input",{type:"radio",name:t,value:e,defaultChecked:!0}):s.createElement("input",{type:"radio",name:t,value:e}),s.createElement("label",null," ",e," "))}.bind(this)));case"file":return s.createElement("div",{className:"text-left d25",key:t},s.createElement("h1",{className:"h1f dank-form-h2"},s.createElement("b",null,e.title)),s.createElement("div",null,s.createElement("div",{className:"dank-form-file-text",ref:"file"+t}),s.createElement("div",{type:"button",className:"dank-form-file-button",id:"file"+t},"上传")));case"image":return null;default:return null}}.bind(this));return s.createElement("div",{style:e},s.createElement("h1",{className:"h1a"},s.createElement("b",null,"其他问题")),t)}})},function(e,t,a){"use strict";var n=a(1),s=(n.Component,n.createClass({displayName:"Output",getInitialState:function(){return{eventID:this.props.params.eventID,wish:this.props.params.eventID.wish,forms:[],getData:!1}},componentDidMount:function(){$.ajax({url:"/form/output",contentType:"application/json",type:"GET",data:{eventID:this.state.eventID,wish:"全部部门"==this.state.wish?null:this.state.wish},success:function(e){switch(console.log(e),e.code){case 0:this.isMounted()&&this.setState({forms:e.body.forms,getData:!0});break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},componentDidUpdate:function(){this.state.getData&&window.print()},render:function(){var e=this.state.forms.map(function(e,t){return n.createElement("div",{className:"dank-output-form",key:t},n.createElement("div",{className:"dank-output-caption"},"报名表 NO.",t+1),n.createElement("div",{className:"dank-output-title"},"基本信息"),n.createElement("table",{className:"dank-output-frame"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"dank-output-table-parent"},n.createElement("table",{className:"dank-output-table"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"dank-output-baseinfo-label"},"姓　　名"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.name),n.createElement("td",{className:"dank-output-baseinfo-label"},"性　　别"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.sex)),n.createElement("tr",null,n.createElement("td",{className:"dank-output-baseinfo-label"},"籍　　贯"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.origin),n.createElement("td",{className:"dank-output-baseinfo-label"},"民　　族"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.nation)),n.createElement("tr",null,n.createElement("td",{className:"dank-output-baseinfo-label"},"学　　号"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.schoolID),n.createElement("td",{className:"dank-output-baseinfo-label"},"政治面貌"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.politicalStatus)),n.createElement("tr",null,n.createElement("td",{className:"dank-output-baseinfo-label"},"手机长号"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.telnumber),n.createElement("td",{className:"dank-output-baseinfo-label"},"手机短号"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.telshort)),n.createElement("tr",null,n.createElement("td",{className:"dank-output-baseinfo-label"},"邮　　箱"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.email),n.createElement("td",{className:"dank-output-baseinfo-label"},"ＱＱ号码"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.qq)),n.createElement("tr",null,n.createElement("td",{className:"dank-output-baseinfo-label"},"专　　业"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.major),n.createElement("td",{className:"dank-output-baseinfo-label"},"年　　级"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.grade)),n.createElement("tr",null,n.createElement("td",{className:"dank-output-baseinfo-label"},"寝室地址"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.address),n.createElement("td",{className:"dank-output-baseinfo-label"},"出生日期"),n.createElement("td",{className:"dank-output-baseinfo-info"},e.baseinfo.birth))))),n.createElement("td",{className:"dank-output-baseinfo-photo"},n.createElement("img",{src:e.baseinfo.img,alt:"照片"}))))),e.skills["delete"]&&e.introduction["delete"]?null:n.createElement("div",{className:"dank-output-title"},"个人介绍"),e.skills["delete"]?null:n.createElement("div",null,n.createElement("div",{className:"dank-output-label"},e.skills.title),n.createElement("div",{className:"dank-output-content"},new function(){var t=[],a=!0,n=!1,s=void 0;try{for(var r,l=e.skills.chosen[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var i=r.value;t.push(i+"　　")}}catch(c){n=!0,s=c}finally{try{!a&&l["return"]&&l["return"]()}finally{if(n)throw s}}return t})),e.introduction["delete"]?null:n.createElement("div",null,n.createElement("div",{className:"dank-output-label"},e.introduction.title),n.createElement("div",{className:"dank-output-content"},e.introduction.content)),e.wish["delete"]?null:n.createElement("div",null,n.createElement("div",{className:"dank-output-title"},"志愿选择"),n.createElement("div",{className:"dank-output-label"},e.wish.title),n.createElement("div",{className:"dank-output-content"},new function(){var t=[],a=!0,n=!1,s=void 0;try{for(var r,l=e.wish.chosen[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var i=r.value;t.push(i+"　　")}}catch(c){n=!0,s=c}finally{try{!a&&l["return"]&&l["return"]()}finally{if(n)throw s}}return t}),e.wish.chosen.map(function(t,a){return 0==a?null:n.createElement("div",{key:a},n.createElement("div",{className:"dank-output-label"},"希望进入第",a,"志愿 ",t," 的原因是"),n.createElement("div",{className:"dank-output-content"},e.reason[a]))}.bind(this))),e.others?n.createElement("div",null,n.createElement("div",{className:"dank-output-title"},"其他问题"),e.others.map(function(e,t){switch(e.type){case"single-text":return n.createElement("div",{key:t},n.createElement("div",{className:"dank-output-label"},e.title),n.createElement("div",{className:"dank-output-content"},e.content));case"multi-text":return n.createElement("div",{key:t},n.createElement("div",{className:"dank-output-label"},e.title),n.createElement("div",{className:"dank-output-content"},e.content));case"single-choose":return n.createElement("div",{key:t},n.createElement("div",{className:"dank-output-label"},e.title),n.createElement("div",{className:"dank-output-content"},e.chosen));case"multi-choose":return n.createElement("div",{key:t},n.createElement("div",{className:"dank-output-label"},e.title),n.createElement("div",{className:"dank-output-content"},new function(){var t=[],a=!0,n=!1,s=void 0;try{for(var r,l=e.chosen[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var i=r.value;t.push(i+"　　")}}catch(c){n=!0,s=c}finally{try{!a&&l["return"]&&l["return"]()}finally{if(n)throw s}}return t}));case"file":return n.createElement("div",{key:t},n.createElement("div",{className:"dank-output-label"},e.title),n.createElement("div",{className:"dank-output-content"},e.url));default:return null}}.bind(this))):null)}.bind(this));return n.createElement("div",null,n.createElement("div",{className:"dank-output-print"},n.createElement("div",{className:"dank-output-text"},"报名表已导出并打印为pdf......"),n.createElement("div",{className:"dank-output-text"},"若打印未开始 请手动调用浏览器打印网页功能 或 点击按钮"),n.createElement("div",{className:"dank-output-button",onClick:function(){window.print()}},"打印或导出为pdf")),e)}}));e.exports=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),o=a(4),m=n(o),d=function(e){function t(){s(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={gallery:[{link:"",img:"http://static.zju-welcome.com/img/GfolBzh.png"},{link:"",img:"http://static.zju-welcome.com/img/AVWq9zk.png"}],events:[]},e}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;$.get("/event/recent",function(t){0==t.code?!function(){var a=t.body.events,n=document.body.clientWidth;a.forEach(function(e){e.link=(n>800?"#/form/":"#/mobile/form/")+e.eventID}),e.setState({events:a})}():alert("获取社团事项出错："+t.msg)})}},{key:"render",value:function(){return React.createElement("div",{id:"index-content"},React.createElement(m["default"],null),React.createElement(h,{items:this.state.gallery}),React.createElement(u,{items:this.state.events}),React.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}))}}]),t}(c.Component);t["default"]=d;var h=function(e){function t(e){s(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={items:a.props.items,active:0,documentWidth:0},a._handleResize=a.handleResize.bind(a),a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){if(window.addEventListener("resize",this._handleResize),this._handleResize(),this.state.items.length>1){var e=setInterval(this.go.bind(this),2e3);this.setState({intervalID:e})}}},{key:"componentWillUnmount",value:function(){this.state.intervalID&&clearInterval(this.state.intervalID),window.removeEventListener("resize",this._handleResize)}},{key:"handleResize",value:function(){var e=$(document).width(),t=this.state.items.length>1?this.state.items.length+2:1;$(this.refs["ga-container"]).css({width:e*t+"px",borderSpacing:(this.state.active+1)*e,transform:"translateX(-"+(this.state.active+1)*e+"px)"});for(var a=-1;a<=this.state.items.length;a++)this.refs["item-"+a]&&$(this.refs["item-"+a]).css("width",e+"px");this.setState({documentWidth:e})}},{key:"go",value:function(e){var t=this;e&&this.state.intervalID&&(clearInterval(this.state.intervalID),this.setState({intervalID:0})),e=void 0==e?this.state.active+1:e,$(this.refs["ga-container"]).animate({borderSpacing:(e+1)*this.state.documentWidth},{step:function(e,t){$(this).css("transform","translateX(-"+e+"px)")},easing:"linear",complete:function(){(e>=t.state.items.length||e==-1)&&(e=e==-1?t.state.items.length-1:0,$(t.refs["ga-container"]).css({transform:"translateX(-"+(e+1)*t.state.documentWidth+"px)",borderSpacing:(e+1)*t.state.documentWidth})),t.setState({active:e})}})}},{key:"render",value:function(){var e=this,t=this.state.items,a=void 0,n=void 0,s=void 0;t.length>1&&(a=React.createElement("div",{key:"-1",ref:"item--1",className:"ga-item"},React.createElement("a",{href:t[t.length-1].link},React.createElement("img",{src:t[t.length-1].img}))),n=React.createElement("div",{key:t.length,ref:"item-"+t.length,className:"ga-item"},React.createElement("a",{href:t[0].link},React.createElement("img",{src:t[0].img}))),s=this.state.items.map(function(t,a){return React.createElement("span",{key:a,className:e.state.active==a?"active":"",onClick:e.go.bind(e,a)})}));var r=this.state.items.map(function(e,t){return React.createElement("div",{key:t,ref:"item-"+t,className:"ga-item"},React.createElement("a",{href:e.link},React.createElement("img",{src:e.img})))});return React.createElement("div",{id:"gallery"},React.createElement("div",{ref:"ga-container"},a,r,n),React.createElement("div",{className:"ga-control",id:"prev",onClick:this.go.bind(this,this.state.active-1)},React.createElement("i",{className:"fa fa-caret-left"})),React.createElement("div",{className:"ga-control",id:"next",onClick:this.go.bind(this,this.state.active+1)},React.createElement("i",{className:"fa fa-caret-right"})),React.createElement("div",{id:"ga-index"},s))}}]),t}(c.Component),u=function(e){function t(e){s(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={items:a.props.items},a}return l(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({items:e.items})}},{key:"render",value:function(){var e=this,t=[];if(this.state.items.map(function(a,n){var s=new Date(a.date);n==e.state.items.length-1&&t.push(React.createElement("div",{className:"event-info",onClick:function(){window.open("http://www.lagou.com/jobs/2150423.html?source=pl&i=pl-2")}},React.createElement("div",{className:"org-avatar"},React.createElement("p",null,"0")),React.createElement("div",{className:"org-info"},React.createElement("a",null,React.createElement("h1",null,"有数金服 实习生招聘")),React.createElement("ol",null,React.createElement("li",null,"测试工程师（杭州）")),React.createElement("div",{className:"date"},"2016-9-16发布"),React.createElement("div",{style:{position:"absolute",top:"5px",right:"5px",fontSize:"12px"}},"帮学长打个广告")))),t.push(React.createElement("div",{key:n,className:"event-info",onClick:function(){window.location.href=a.link}},React.createElement("div",{className:"org-avatar"},React.createElement("p",null,a.eventID)),React.createElement("div",{className:"org-info"},React.createElement("a",null,React.createElement("h1",null,a.name)),React.createElement("ol",null,a.wishes.map(function(e,t){return React.createElement("li",{key:t},e)})),React.createElement("div",{className:"date"},s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate(),"发布"),React.createElement("div",{className:"date begin"}))))}),t.length<5)for(var a=t.length;a<5;a++)t.push(React.createElement("div",{key:"append-"+a,className:"event-info"}));return React.createElement("div",{id:"event-list"},t)}}]),t}(c.Component)},function(e,t,a){"use strict";var n=a(1),s=a(4);e.exports=n.createClass({displayName:"exports",render:function(){return n.createElement("div",{className:"m-form"},n.createElement("meta",{name:"viewport",content:"width=device-width"}),n.createElement(s,null),n.createElement(r,{eventID:this.props.params.id}))}});var r=n.createClass({displayName:"Content",getInitialState:function(){return{event:{},baseInfo:{name:"",sex:"男",origin:"",nation:"",schoolID:"",politicalStatus:"",telnumber:"",telshort:"",email:"",qq:"",major:"",birth:"",address:"",img:"",grade:""},wish:{chosen:[],reason:[]},person:{skills:{chosen:[],other:""},introduction:{content:""}},others:[],remark:""}},componentDidMount:function(){$.get("/form/id?eventID="+this.props.eventID,function(e){switch(e.code){case 0:for(var t=e.body.event.formschema.others,a=this.state.others,n=0;n<t.length;n++){var s={type:t[n].type,title:t[n].title,content:"",chosen:"multi-choose"==t[n].type?[""]:"",url:""};a.push(s)}this.setState({event:e.body.event,others:a});break;default:alert("获取面试表信息失败")}}.bind(this)),$.ajax({url:"/user/profile",contentType:"application/json",type:"GET",success:function(e){switch(e.code){case 0:if(this.isMounted()){var t={username:e.body.user.username,address:e.body.user.baseinfo.address,birth:e.body.user.baseinfo.birth,email:e.body.user.baseinfo.email,name:e.body.user.baseinfo.name,nation:e.body.user.baseinfo.nation,origin:e.body.user.baseinfo.origin,politicalStatus:e.body.user.baseinfo.politicalStatus,qq:e.body.user.baseinfo.qq,schoolID:e.body.user.baseinfo.schoolID,sex:e.body.user.baseinfo.sex,telnumber:e.body.user.baseinfo.telnumber,telshort:e.body.user.baseinfo.telshort,major:e.body.user.baseinfo.major,img:e.body.user.baseinfo.img,grade:e.body.user.baseinfo.grade};this.setState({baseInfo:t})}break;default:console.log(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},submit:function(){for(var e=["name","telnumber","major","birth","address","schoolID"],t=["姓名","电话号码","专业/大类","学号"],a=0;a<e.length;a++)if(""==this.state.baseInfo[e[a]])return void alert(t[a]+"未填写!");if(0==this.state.wish.chosen.length)return void alert("志愿未选择!");var n="",s=this.state.person.skills;s.chosen=[s.other].concat(s.chosen);var r={chosen:this.state.wish.chosen};$.ajax({url:"form/submit",contentType:"application/json",type:"POST",data:JSON.stringify({eventID:this.state.event.eventID,writetime:(new Date).getTime(),browserinfo:n,baseinfo:this.state.baseInfo,skills:s,introduction:this.state.person.introduction,wish:r,reason:this.state.wish.reason,others:this.state.others,remark:this.state.remark}),success:function(e){switch(console.log(e),e.code){case 0:alert("报名表提交成功~"),window.location.href="/";break;default:alert("提交失败: "+e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},handleChange:function(e,t,a){var n=this.state;t==-1?n[e][a.target.getAttribute("name")]=a.target.value:n[e][a.target.getAttribute("name")][t]=a.target.value,this.setState({newState:n})},dataPipe:function(e){this.setState(e)},render:function(){var e={top:"4.38rem",bottom:"0",left:"0",right:"0",position:"fixed",overflow:"auto",background:"#f77968"},t={width:"100%"},a={textAlign:"center",fontSize:"2.19rem",color:"#ffffff",marginTop:"2.044rem",marginBottom:"2.044rem"},s={display:"inline-block",marginLeft:"50%",transform:"translateX(-50%)"},r=null;return this.state.event.eventID&&(r=n.createElement("div",{className:"center-block",style:t},n.createElement(l,{data:this.state.baseInfo,handleChange:this.handleChange,dataPipe:this.dataPipe}),n.createElement(i,{schema:this.state.event.formschema.wish,data:this.state.wish,handleChange:this.handleChange}),n.createElement(c,{schema:{introduction:this.state.event.formschema.introduction,skills:this.state.event.formschema.skills},data:this.state.person,handleChange:this.handleChange}),n.createElement(o,{schema:this.state.event.formschema.others,data:this.state.others,handleChange:this.handleChange,dataPipe:this.dataPipe}),n.createElement("div",{style:s},n.createElement("a",{className:"dank-button-2",onClick:this.submit},"提交")))),n.createElement("div",{style:e},n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12"},n.createElement("big",{style:a,className:"center-block"},this.state.event.name))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12"},r)),n.createElement("div",{id:"loading"},n.createElement("div",{className:"cssload-container"},n.createElement("div",{className:"cssload-shaft1"}),n.createElement("div",{className:"cssload-shaft2"}),n.createElement("div",{className:"cssload-shaft3"}),n.createElement("div",{className:"cssload-shaft4"}),n.createElement("div",{className:"cssload-shaft5"}),n.createElement("div",{className:"cssload-shaft6"}),n.createElement("div",{className:"cssload-shaft7"}),n.createElement("div",{className:"cssload-shaft8"}),n.createElement("div",{className:"cssload-shaft9"}),n.createElement("div",{className:"cssload-shaft10"})),n.createElement("div",{className:"loading-text",id:"loadingPercentage"}),n.createElement("div",{className:"loading-text",id:"loadingSpeed"}),n.createElement("div",{className:"loading-button",id:"cancel"},"取消上传"))))}}),l=n.createClass({displayName:"Baseinfo",componentDidMount:function(){Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:"img",uptoken_url:"/uptoken",domain:"http://files.zju-welcome.com/",get_new_uptoken:!1,max_file_size:"20mb",flash_swf_url:"js/plupload/Moxie.swf",max_retries:3,dragdrop:!0,chunk_size:"4mb",auto_start:!0,unique_names:!0,multi_selection:!1,init:{BeforeUpload:function(e,t){$("#loading").fadeIn(),$(document).on("click","#cancel",function(){this.stop(),$("#loading").fadeOut(),$(document).off("click","#cancel")}.bind(this))},UploadProgress:function(e,t){$("#loadingPercentage").text("已上传 "+t.percent+"%"),$("#loadingSpeed").text(t.speed/1e3+"kb/s")},FileUploaded:function(e,t,a){var n=e.getOption("domain"),s=$.parseJSON(a);this.props.dataPipe({img:n+s.key});var r=this.refs.img;$(r).text(t.name),$("#loading").fadeOut(),$(document).off("click","#cancel")}.bind(this),Error:function(e,t,a){if($("#loading").fadeOut(),$(document).off("click","#cancel"),t.code==-600){var n=e.getOption("max_file_size");alert("上传文件大小不得超过"+n)}else alert("上传出错，请重试\n"+a)}.bind(this)}}),$("#dtBox").DateTimePicker({mode:"date",dateFormat:"yyyy-MM-dd",afterHide:function(e){var t=$(e).val(),a=this.props.data;a.birth=t,this.props.dataPipe({baseInfo:a})}.bind(this)})},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"100%",minHeight:"45.114rem",marginBottom:"2.19rem"},t={display:"block",textAlign:"center",fontSize:"2.19rem",color:"#FFFFFF",margin:"1.46rem",fontWeight:"bold"},a="baseInfo";return n.createElement("div",{style:e},n.createElement("h1",{style:t},n.createElement("b",null,"个人信息")),n.createElement("div",{className:"d8"},n.createElement("table",{className:"dank-form-table"},n.createElement("tbody",null,n.createElement("tr",{className:""},n.createElement("td",{className:"form-group"},"姓　　名*"),n.createElement("td",null,n.createElement("input",{type:"text",name:"name",value:this.props.data.name,onChange:this.props.handleChange.bind(null,a,-1),className:"dank-form-input",required:!0}))),n.createElement("tr",null,n.createElement("td",null,"性　　别*"),n.createElement("td",null,n.createElement("label",{className:"dank-checkbox-inline"},n.createElement("label",null,n.createElement("input",{type:"radio",name:"sex",value:"男",checked:!this.props.data.sex||"男"==this.props.data.sex,onChange:this.props.handleChange.bind(null,a,-1)}),n.createElement("b",null," 男")),n.createElement("label",null,n.createElement("input",{type:"radio",name:"sex",value:"女",checked:"女"==this.props.data.sex,onChange:this.props.handleChange.bind(null,a,-1)}),n.createElement("b",null," 女"))))),n.createElement("tr",{className:""},n.createElement("td",null,"学　　号*"),n.createElement("td",null,n.createElement("input",{value:this.props.data.schoolID,onChange:this.props.handleChange.bind(null,a,-1),name:"schoolID",className:"dank-form-input",type:"text"}))),n.createElement("tr",{className:""},n.createElement("td",null,"手机长号*"),n.createElement("td",null,n.createElement("input",{value:this.props.data.telnumber,onChange:this.props.handleChange.bind(null,a,-1),name:"telnumber",className:"dank-form-input",type:"text",required:!0}))),n.createElement("tr",null,n.createElement("td",null,"手机短号"),n.createElement("td",null,n.createElement("input",{value:this.props.data.telshort,onChange:this.props.handleChange.bind(null,a,-1),name:"telshort",className:"dank-form-input",type:"text"}))),n.createElement("tr",{className:""},n.createElement("td",null,"邮　　箱"),n.createElement("td",null,n.createElement("input",{value:this.props.data.email,onChange:this.props.handleChange.bind(null,a,-1),name:"email",className:"dank-form-input",type:"text"}))),n.createElement("tr",{className:""},n.createElement("td",null,"专业大类*"),n.createElement("td",null,n.createElement("input",{value:this.props.data.major,onChange:this.props.handleChange.bind(null,a,-1),name:"major",className:"dank-form-input",type:"text",required:!0}))),n.createElement("tr",null,n.createElement("td",null,"年　　级"),n.createElement("td",null,n.createElement("input",{value:this.props.data.grade,onChange:this.props.handleChange.bind(null,a,-1),name:"grade",className:"dank-form-input",type:"text",required:!0}))),n.createElement("tr",null,n.createElement("td",null,"出生日期*"),n.createElement("td",null,n.createElement("input",{value:this.props.data.birth,"data-field":"date","data-format":"yyyy-MM-dd",onChange:this.props.handleChange.bind(null,a,-1),name:"birth",className:"dank-form-input",type:"text",readOnly:!0}))),n.createElement("tr",{className:""},n.createElement("td",null,"寝室地址*"),n.createElement("td",null,n.createElement("input",{value:this.props.data.address,onChange:this.props.handleChange.bind(null,a,-1),name:"address",className:"dank-form-input",type:"text"}))),n.createElement("tr",null,n.createElement("td",null,"照　　片"),n.createElement("td",{id:"img"},n.createElement("div",{className:"dank-form-file-text",ref:"img"},this.props.data.img),n.createElement("div",{type:"button",className:"dank-form-file-button"},"上传")))))),n.createElement("div",{id:"dtBox"}))}}),i=n.createClass({displayName:"Wish",handleChange:function(e,t,a){var n=this.props.data;if(a.target.checked){var s=this.props.schema.max;(null==s||""==s||n.chosen.length<s)&&(n.chosen.push(a.target.value),n.reason.concat([""]))}else{var r=n.chosen.indexOf(a.target.value);n.chosen.splice(r,1),n.reason.splice(r,1)}this.props.handleChange(e,-1,{target:{getAttribute:function(){return"chosen"},value:n.chosen}}),this.props.handleChange(e,-1,{target:{getAttribute:function(){return"reason"},value:n.reason}})},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"100%",minHeight:"45.114rem",_height:"45.114rem",marginBottom:"2.19rem"},t="wish",a=this.props.schema.option.map(function(e,a){var s=this.props.data.chosen.indexOf(e);return n.createElement("div",{className:"dank-checkbox-inOneLine",key:e},n.createElement("label",null,n.createElement("input",{type:"checkbox",value:e,name:"chosen",checked:s>=0,onChange:this.handleChange.bind(null,t,a),disabled:this.props.schema.max&&this.props.data.chosen.length>=this.props.schema.max&&s<0}),e))}.bind(this)),s=this.props.data.chosen.map(function(e,a){return n.createElement("div",{className:"d24",key:a},n.createElement("div",{className:"text-left d25"},n.createElement("h1",{className:"h1f dank-form-h2"},n.createElement("b",null,"希望进入第",a+1,"志愿 ",e," 的原因是")),n.createElement("div",null,n.createElement("b",null,n.createElement("textarea",{value:this.props.data.reason[a],name:"reason",onChange:this.props.handleChange.bind(null,t,a),className:"text-left tt1"})))))}.bind(this));return n.createElement("div",{style:e},n.createElement("h1",{className:"h1a"},n.createElement("b",null,"报名志愿",this.props.schema.max<=0?"":"（至多选"+this.props.schema.max+"个）")),this.props.schema["delete"]?null:n.createElement("div",{className:"d24"},n.createElement("div",{className:"text-left d25"},n.createElement("h1",{className:"h1f dank-form-h2"},n.createElement("b",null,this.props.schema.title,"*")),a)),s)}}),c=n.createClass({displayName:"Person",handleChange:function(e,t,a){var n=this.props.data[a.target.getAttribute("name")][t].slice();if(a.target.checked){var s=this.props.schema.skills.max;(null==s||""==s||n.length<s)&&n.push(a.target.value)}else n.splice(n.indexOf(a.target.value),1);var r=a.target.getAttribute("name");this.props.handleChange(e,t,{target:{getAttribute:function(){return r},value:n}})},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"100%",minHeight:"45.114rem",_height:"45.114rem",marginBottom:"2.19rem"},t="person",a=this.props.schema.skills.option.map(function(e){return n.createElement("div",{className:"dank-checkbox-inOneLine",key:e},n.createElement("label",null,n.createElement("input",{type:"checkbox",value:e,name:"skills",checked:this.props.data.skills.chosen.indexOf(e)>=0,onChange:this.handleChange.bind(null,t,"chosen")}),e))}.bind(this));return n.createElement("div",{style:e},n.createElement("h1",{className:"h1a"},n.createElement("b",null,"个人介绍")),this.props.schema.skills["delete"]?null:n.createElement("div",{className:"d24"},n.createElement("div",{className:"text-left d25"},n.createElement("h1",{className:"h1f dank-form-h2"},n.createElement("b",null,this.props.schema.skills.title)),a,this.props.schema.skills.free?n.createElement("div",{className:"dank-form-group-inline"},n.createElement("label",{className:"dank-label dank-select-label"},"其他"),n.createElement("input",{type:"text",name:"skills",value:this.props.data.skills.other,onChange:this.props.handleChange.bind(null,t,"other"),className:"dank-form-input dank-select-input"})):null)),this.props.schema.introduction["delete"]?null:n.createElement("div",{className:"d24"},n.createElement("div",{className:"text-left d25"},n.createElement("h1",{className:"h1f dank-form-h2"},n.createElement("b",null,this.props.schema.introduction.title)),n.createElement("div",null,n.createElement("b",null,n.createElement("textarea",{name:"introduction",value:this.props.data.introduction.content,onChange:this.props.handleChange.bind(null,t,"content"),className:"text-left tt1"}))))))}}),o=n.createClass({displayName:"Others",componentDidMount:function(){for(var e=this.props.data,t=0;t<e.length;t++){var a=e[t];"file"==a.type&&Qiniu.uploader({index:t,runtimes:"html5,flash,html4",browse_button:"file"+t,uptoken_url:"/uptoken",domain:"http://files.zju-welcome.com/",get_new_uptoken:!1,max_file_size:"100mb",flash_swf_url:"js/plupload/Moxie.swf",max_retries:3,dragdrop:!0,chunk_size:"4mb",auto_start:!0,unique_names:!0,multi_selection:!1,init:{BeforeUpload:function(e,t){$("#loading").fadeIn(),$(document).on("click","#cancel",function(){this.stop(),$("#loading").fadeOut(),$(document).off("click","#cancel")}.bind(this))},UploadProgress:function(e,t){$("#loadingPercentage").text("已上传 "+t.percent+"%"),$("#loadingSpeed").text(t.speed/1e3+"kb/s")},FileUploaded:function(t,a,n){var s=t.getOption("domain"),r=t.getOption("index"),l=$.parseJSON(n);e[r].url=s+l.key,this.props.dataPipe({others:e});var i=this.refs["file"+r];$(i).text(a.name),$("#loading").fadeOut(),$(document).off("click","#cancel")}.bind(this),Error:function(e,t,a){if($("#loading").fadeOut(),$(document).off("click","#cancel"),t.code==-600){var n=e.getOption("max_file_size");alert("上传文件大小不得超过"+n)}else alert("上传出错，请重试\n"+a)}.bind(this)}})}},handleChange:function(e,t,a){var n=a.target.getAttribute("name"),s=this.props.data[n].chosen.slice(),r=s.indexOf(a.target.value);0==t?s[0]=a.target.value:r<0?s.push(a.target.value):r>0&&s.splice(r,1),this.props.handleChange(e,"chosen",{target:{getAttribute:function(){return n},value:s}})},render:function(){var e={display:"inline-block",padding:"1.46rem",border:"0.365rem solid #ffffff",borderRadius:"0.584rem",width:"100%",minHeight:"45.114rem",_height:"45.114rem",marginBottom:"2.19rem"},t="others",a=this.props.schema.map(function(e,a){switch(e.type){case"single-text":return n.createElement("div",{className:"d24",key:a},n.createElement("div",{className:"text-left d25"},n.createElement("h1",{className:"h1f dank-form-h2"},n.createElement("b",null,e.title)),n.createElement("div",null,n.createElement("input",{type:"text",name:a,value:this.props.data[a].content,onChange:this.props.handleChange.bind(null,t,"content"),className:"dank-form-single-text"}))));case"multi-text":return n.createElement("div",{className:"d24",key:a},n.createElement("div",{className:"text-left d25"},n.createElement("h1",{className:"h1f dank-form-h2"},n.createElement("b",null,e.title)),n.createElement("div",null,n.createElement("textarea",{
name:a,value:this.props.data[a].content,onChange:this.props.handleChange.bind(null,t,"content"),className:"text-left tt1"}))));case"multi-choose":return n.createElement("div",{className:"text-left d25",key:a},n.createElement("h1",{className:"h1f dank-form-h2"},n.createElement("b",null,e.title)),e.option.map(function(s){s=""+s;var r=this.props.data[a].chosen,l=""==r[0]?r.length-1:r.length;return n.createElement("div",{className:"dank-checkbox-inOneLine",key:s},n.createElement("label",null,n.createElement("input",{type:"checkbox",name:a,value:s,checked:r.indexOf(s)>=0,onChange:this.handleChange.bind(null,t,-1),disabled:e.max&&l>=e.max&&r.indexOf(s)<0}),s))}.bind(this)),e.free?n.createElement("div",{className:"dank-form-group-inline"+(e.max&&""==this.props.data[a].chosen[0]&&this.props.data[a].chosen.length-1>=e.max?" disable":"")},n.createElement("label",{className:"dank-label dank-select-label"},"其他"),n.createElement("input",{type:"text",name:a,value:this.props.data[a].chosen[0],onChange:this.handleChange.bind(null,t,0),onBlur:null,className:"dank-form-input dank-select-input",disabled:e.max&&""==this.props.data[a].chosen[0]&&this.props.data[a].chosen.length-1>=e.max})):null);case"single-choose":return n.createElement("div",{className:"text-left d25",key:a},n.createElement("h1",{className:"h1f dank-form-h2"},n.createElement("b",null,e.title)),e.option.map(function(e){return e=""+e,n.createElement("div",{className:"dank-radio-inOneLine",key:e},n.createElement("label",null,n.createElement("input",{type:"radio",name:a,value:e,checked:this.props.data[a].chosen==e,onChange:this.props.handleChange.bind(null,t,"chosen")}),e))}.bind(this)));case"file":return n.createElement("div",{className:"text-left d25",key:a},n.createElement("h1",{className:"h1f dank-form-h2"},n.createElement("b",null,e.title)),n.createElement("div",null,n.createElement("div",{className:"dank-form-file-text",ref:"file"+a}),n.createElement("div",{type:"button",className:"dank-form-file-button",id:"file"+a},"上传")));default:return null}}.bind(this));return n.createElement("div",{style:e},n.createElement("h1",{className:"h1a"},n.createElement("b",null,"其他问题")),a)}})},function(e,t,a){"use strict";var n=a(1);n.Component;e.exports=n.createClass({displayName:"exports",render:function(){var e={height:"100%",padding:0,backgroundColor:"#f57a6c"},t={top:"4.38rem",bottom:"0",position:"absolute",width:"100%",overflow:"auto"};return n.createElement("div",{style:e},n.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),n.createElement(s,null),n.createElement("div",{style:t},n.createElement("table",{className:"vertical-middle-parent"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"vertical-middle-child"},n.createElement(r,null)))))))}});var s=n.createClass({displayName:"Header",render:function(){var e={"float":"left"},t={marginLeft:"2.92rem",marginRight:"2.92rem",verticalAlign:"middle"},a={"float":"left",marginTop:"0.803rem"},s={fontFamily:"BenderSolid",fontSize:"2.628rem",color:"#ffffff",background:"#f57a6c",minWidth:"15.695rem",height:"4.38rem",lineHeight:"4.38rem",display:"inline-block",textAlign:"center"},r={"float":"right",lineHeight:"4.38rem"},l={marginLeft:"2.92rem",marginRight:"2.92rem"};return n.createElement("div",{className:"dank-header"},n.createElement("div",{style:e},n.createElement("big",{style:s,onClick:function(){window.location.href="/"}},"WELCOME")),n.createElement("div",{style:a,className:"pc"},n.createElement("a",{className:"dank-button-header",href:"/",style:t},"首页")),n.createElement("div",{style:r},n.createElement("a",{href:"#/mobile/signup",className:"dank-a",style:l},"注册")))}}),r=n.createClass({displayName:"Box",render:function(){var e={paddingLeft:"1rem",paddingRight:"1rem"},t={textAlign:"center",color:"#ffffff",fontSize:"1.5rem"};return n.createElement("div",{style:e},n.createElement("div",{className:"dank-h1"},"SIGN IN"),n.createElement("div",null,n.createElement(l,null),n.createElement("div",{style:t},"社团账号登录请访问PC端网页")))}}),l=n.createClass({displayName:"Form",usernameCheck:function(){var e=this.refs.username,t=/^\d{11,}$/;return e.value?t.test(e.value)?(e.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-display",this.refs.usernameErr3.className="err-hidden",!1):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-display",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!1)},passwordCheck:function(){var e=this.refs.password;return e.value?(e.parentNode.className="dank-form-group",this.refs.passwordErr1.className="err-hidden",this.refs.passwordErr2.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.passwordErr1.className="err-display",this.refs.passwordErr2.className="err-hidden",!1)},handleSubmit:function(){var e=this.usernameCheck(),t=this.passwordCheck();e&&t&&$.ajax({url:"user/login",contentType:"application/json",type:"POST",data:JSON.stringify({username:this.refs.username.value,password:this.refs.password.value}),success:function(e){switch(console.log(e),e.code){case-1:alert("数据库错误");break;case-2:var t=this.refs.username;t.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-display";break;case-3:var t=this.refs.password;t.parentNode.className="dank-form-group",this.refs.passwordErr1.className="err-hidden",this.refs.passwordErr2.className="err-display";break;case 0:document.body.clientWidth>800?window.location.href="/#/person/info":history.back();break;default:alert("未知错误")}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){var e={padding:"2.92rem 2rem"},t={marginTop:"4.38rem"};return n.createElement("div",{id:"signin",className:"dank-box-2 center-block",style:e},n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"username"},"账号"),n.createElement("small",{className:"err-hidden",ref:"usernameErr1"},"请输入用户名"),n.createElement("small",{className:"err-hidden",ref:"usernameErr2"},"请输入正确的手机号"),n.createElement("small",{className:"err-hidden",ref:"usernameErr3"},"用户名不存在"),n.createElement("input",{type:"text",placeholder:"用户名 - 手机号",ref:"username",onBlur:this.usernameCheck})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"password"},"密码"),n.createElement("small",{className:"err-hidden",ref:"passwordErr1"},"请输入密码"),n.createElement("small",{className:"err-hidden",ref:"passwordErr2"},"密码错误"),n.createElement("input",{type:"password",placeholder:"密码 - 默认学号",ref:"password",onBlur:this.passwordCheck})),n.createElement("div",{onClick:this.handleSubmit,className:"dank-button",style:t},"登陆"))}})},function(e,t,a){"use strict";var n=a(1);n.Component;e.exports=n.createClass({displayName:"exports",render:function(){var e={height:"100%",padding:0,backgroundColor:"#f57a6c"},t={top:"4.38rem",bottom:"0",position:"absolute",width:"100%",overflow:"auto"};return n.createElement("div",{style:e},n.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),n.createElement(s,null),n.createElement("div",{style:t},n.createElement("table",{className:"vertical-middle-parent"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"vertical-middle-child"},n.createElement(r,null)))))))}});var s=n.createClass({displayName:"Header",render:function(){var e={"float":"left"},t={marginLeft:"2.92rem",marginRight:"2.92rem",verticalAlign:"middle"},a={"float":"left",marginTop:"0.803rem"},s={fontFamily:"BenderSolid",fontSize:"2.628rem",color:"#ffffff",background:"#f57a6c",minWidth:"15.695rem",height:"4.38rem",lineHeight:"4.38rem",display:"inline-block",textAlign:"center"},r={"float":"right",lineHeight:"4.38rem"},l={marginLeft:"2.92rem",marginRight:"2.92rem"};return n.createElement("div",{className:"dank-header"},n.createElement("div",{style:e},n.createElement("big",{style:s,onClick:function(){window.location.href="/"}},"WELCOME")),n.createElement("div",{style:a,className:"pc"},n.createElement("a",{className:"dank-button-header",href:"/",style:t},"首页")),n.createElement("div",{style:r},n.createElement("a",{href:"#/mobile/signin",className:"dank-a",style:l},"登陆")))}}),r=n.createClass({displayName:"Box",render:function(){var e={paddingLeft:"1rem",paddingRight:"1rem"},t={textAlign:"center",color:"#ffffff",fontSize:"1.5rem"};return n.createElement("div",{style:e},n.createElement("div",{className:"dank-h1"},"SIGN UP"),n.createElement("div",null,n.createElement(l,null),n.createElement("div",{style:t},"社团账号注册请访问PC端网页")))}}),l=n.createClass({displayName:"Form",usernameCheck:function(){var e=this.refs.username,t=/^\d{11,}$/;return e.value?t.test(e.value)?(e.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-display",this.refs.usernameErr3.className="err-hidden",!1):(e.parentNode.className="dank-form-group-err",this.refs.usernameErr1.className="err-display",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-hidden",!1)},passwordCheck:function(){var e=this.refs.password;return e.value?(e.parentNode.className="dank-form-group",this.refs.passwordErr1.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.passwordErr1.className="err-display",!1)},passwordConfirmCheck:function(){var e=this.refs.passwordConfirm;return e.value?e.value!=this.refs.password.value?(e.parentNode.className="dank-form-group-err",this.refs.passwordConfirmErr1.className="err-hidden",this.refs.passwordConfirmErr2.className="err-display",!1):(e.parentNode.className="dank-form-group",this.refs.passwordConfirmErr1.className="err-hidden",this.refs.passwordConfirmErr2.className="err-hidden",!0):(e.parentNode.className="dank-form-group-err",this.refs.passwordConfirmErr1.className="err-display",this.refs.passwordConfirmErr2.className="err-hidden",!1)},handleSubmit:function(){var e=this.usernameCheck(),t=this.passwordCheck(),a=this.passwordConfirmCheck();e&&t&&a&&$.ajax({url:"user/signup",contentType:"application/json",type:"POST",data:JSON.stringify({username:this.refs.username.value,password:this.refs.password.value}),success:function(e){switch(console.log(e),e.code){case-4:var t=this.refs.username;t.parentNode.className="dank-form-group",this.refs.usernameErr1.className="err-hidden",this.refs.usernameErr2.className="err-hidden",this.refs.usernameErr3.className="err-display";break;case 0:window.location.href="/#/person/info";break;default:alert(e.msg)}}.bind(this),error:function(e,t,a){console.error("ajax请求发起失败")}.bind(this)})},render:function(){var e={height:"34rem",padding:"2.92rem 2rem",paddingTop:"1.46rem"},t={marginTop:"4.38rem"};return n.createElement("div",{id:"signup",className:"dank-box-2 center-block",style:e},n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"username"},"账号"),n.createElement("small",{className:"err-hidden",ref:"usernameErr1"},"用户名不能为空"),n.createElement("small",{className:"err-hidden",ref:"usernameErr2"},"请输入正确的手机号"),n.createElement("small",{className:"err-hidden",ref:"usernameErr3"},"用户名已存在"),n.createElement("input",{type:"text",name:"username",placeholder:"请输入手机号",ref:"username",onBlur:this.usernameCheck})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"password"},"密码"),n.createElement("small",{className:"err-hidden",ref:"passwordErr1"},"密码不能为空"),n.createElement("input",{type:"password",name:"password",placeholder:"请输入密码",ref:"password",onBlur:this.passwordCheck})),n.createElement("div",{className:"dank-form-group"},n.createElement("label",{htmlFor:"password"},"重复密码"),n.createElement("small",{className:"err-hidden",ref:"passwordConfirmErr1"},"请再次输入密码"),n.createElement("small",{className:"err-hidden",ref:"passwordConfirmErr2"},"密码不一致"),n.createElement("input",{type:"password",placeholder:"请再次输入密码",ref:"passwordConfirm",onBlur:this.passwordConfirmCheck})),n.createElement("div",{onClick:this.handleSubmit,className:"dank-button",style:t},"注册"))}})},function(e,t,a){"use strict";var n=a(1),s=(n.Component,a(5));e.exports=n.createClass({displayName:"exports",render:function(){var e={height:"100%",padding:0,backgroundColor:"#f57a6c"},t={top:"4.38rem",bottom:"0",position:"absolute",width:"100%",overflow:"auto"};return n.createElement("div",{style:e},n.createElement(s,null),n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row",style:t},n.createElement("table",{className:"vertical-middle-parent"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"vertical-middle-child"},n.createElement("div",{className:"col-xs-12 col-md-12"},n.createElement(r,{children:this.props.children})))))))))}});var r=n.createClass({displayName:"Box",render:function(){var e={width:"37.084rem",height:"45.114rem"};return n.createElement("div",null,n.createElement("div",{className:"dank-h1"},"Welcome 社团用户"),n.createElement("div",{className:"dank-box-1 center-block",style:e},this.props.children))}})},function(e,t,a){"use strict";var n=a(1),s=(n.Component,a(4));e.exports=n.createClass({displayName:"exports",render:function(){var e={background:"#EFEFEF",height:"100%",padding:0};return n.createElement("div",{style:e},n.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),n.createElement(s,null),this.props.children)}})},function(e,t,a){"use strict";var n=a(1),s=(n.Component,a(5));e.exports=n.createClass({displayName:"exports",render:function(){var e={height:"100%",padding:0,backgroundColor:"#f57a6c"},t={top:"4.38rem",bottom:"0",position:"absolute",width:"100%",overflow:"auto"};return n.createElement("div",{style:e},n.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),n.createElement(s,null),n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row",style:t},n.createElement("table",{className:"vertical-middle-parent"},n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",{className:"vertical-middle-child"},n.createElement("div",{className:"col-xs-12 col-md-12",id:"signin"},n.createElement(r,{children:this.props.children})))))))))}});var r=(n.createClass({displayName:"News",render:function(){var e={width:"53.582rem",height:"45.114rem"};return n.createElement("div",null,n.createElement("div",{className:"dank-h1"},"news"),n.createElement("div",{className:"dank-box-1 center-block",style:e}))}}),n.createClass({displayName:"Box",render:function(){var e={position:"relative",width:"37.084rem",height:"45.114rem"};return n.createElement("div",null,n.createElement("div",{className:"dank-h1"},"Welcome 个人用户"),n.createElement("div",{className:"dank-box-1 center-block",style:e},this.props.children,n.createElement("div",{className:"mobile",id:"orgs-msg"},"社团账号登录请访问PC端网页")))}}))}]);